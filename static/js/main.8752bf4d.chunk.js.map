{"version":3,"sources":["assets/template.png","utils/utils.tsx","components/pages/Volunteers/VolunteerCard.tsx","components/pages/Volunteers/ContactCard.tsx","components/pages/Volunteers/VolunteerDetails.tsx","components/pages/Volunteers/LetterCard.tsx","components/pages/Volunteers/LetterModal.tsx","services/Api/base.ts","services/Api/volunteers.ts","redux/modules/volunteer.ts","components/pages/Volunteers/InviteModal.tsx","redux/modules/user.ts","components/pages/Volunteers/index.tsx","assets/logo.svg","components/header/Navbar.tsx","services/Api/index.ts","components/pages/Login/index.tsx","components/docdrop/Docdrop.tsx","services/Api/newsletters.ts","redux/modules/newsletter.ts","services/Api/tags.ts","services/Api/contacts.ts","redux/modules/orgcontacts.ts","redux/modules/tag.ts","assets/mail.svg","components/pages/Newsletter/ConfirmSendModal.tsx","assets/skate.svg","components/pages/Newsletter/SuccessModal.tsx","data/TagColors.tsx","components/tags/Tag.tsx","components/tags/TagSelector.tsx","components/progress/ProgressBarHeader.tsx","components/buttons/FunnelButton.tsx","components/pages/Newsletter/index.tsx","components/pages/Contacts/index.tsx","components/pages/UploadContacts/FieldMappingRow.tsx","components/pages/UploadContacts/FieldMappingTable.tsx","data/InitialContactFieldMap.tsx","components/alerts/ErrorAlert.tsx","components/pages/UploadContacts/index.tsx","components/pages/NewsletterHistory/index.tsx","hoc/PrivateRoute.tsx","App.tsx","serviceWorker.ts","redux/index.ts","index.tsx"],"names":["module","exports","formatDate","date","getMonth","getDate","unauthenticatedMessages","unauthenticated","errorMessages","some","errorMessage","includes","generateTagColor","colors","label","Math","abs","str","hash","i","length","charCodeAt","hashCode","VolunteerCard","volunteer","handleClick","isActive","activeBorder","fontColor","className","onClick","Image","src","image","roundedCircle","name","total_letters_sent","last_letter_sent","ContactCard","contact","profile_img_path","first_name","last_name","inmate_number","facility_name","relationship","VolunteerDetails","page_id","showUpdateForm","handleUpdateClose","handleUpdateShow","token","orgId","updateVolunteer","selectVolunteer","removeVolunteer","loadVolunteers","handleError","user","useState","role","newRole","setNewRole","confirmRemove","setConfirmRemove","useEffect","id","Button","variant","event","then","catch","error","Form","Group","controlId","Control","as","custom","onChange","target","value","toLowerCase","disabled","user_id","selected","toUpperCase","details","email","city","state","contacts","map","index","key","LetterCard","letter","contact_name","created_at","content","LetterModal","show","handleClose","Modal","onHide","Header","closeButton","Title","Body","images","image_url","API_URL","process","BASE_URL","fetchVolunteers","org_id","a","requestOptions","method","headers","Accept","Authorization","fetch","url","resolve","response","json","body","status","volunteersData","data","forEach","volunteerData","Date","push","fetchVolunteerDetails","contactsResponse","contactsBody","message","contactsData","contactData","middle_name","facility_address","facility_city","facility_state","facility_postal","dorm","unit","color","double_sided","lettersResponse","lettersBody","lettersData","lob_validation_error","lob_status","letterData","type","sent","last_lob_status_update","page_count","user_name","img_src","letters","JSON","stringify","user_email","org_user","LOADING","ERROR","setVolunteers","volunteers","payload","loading","setSelectedVolunteer","initialState","all_volunteers","loading_details","selected_volunteer","dispatch","action","Array","inviteVolunteer","connector","connect","inviteModalProps","volunteerState","shareLink","bindActionCreators","searchQuery","setSearchQuery","copied","setCopied","setErrorMessage","FormControl","placeholder","isInvalid","Feedback","block","preventDefault","addVolunteer","onInvite","text","onCopy","LOGIN","logout","fromStorage","sessionStorage","getItem","storedUserState","parse","authInfo","isLoadingToken","isLoggedIn","org","filteredVolunteers","setFilteredVolunteers","showLetterModal","setShowLetterModal","showInviteModal","setShowInviteModal","setShowUpdateForm","selectedLetter","setSelectedLetter","hasFetchedVolunteers","setHasFetchedVolunteers","handleLetterClick","results","filter","problemLoadingDetails","spinner","Container","Spinner","animation","e","handleVolunteerClick","Card","now","differenceInBusinessDays","share_link","_extends","Object","assign","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","points","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref","svgRef","title","props","viewBox","ref","ForwardRef","forwardRef","mapDispatchToProps","Navbar","collapseOnSelect","expand","bg","sticky","Brand","to","width","Toggle","aria-controls","Collapse","Nav","Link","password","userData","orgRequestOptions","orgResponse","orgBody","business_name","ein","website","address_line_1","address_line_2","postal","paid_balance","color_first_page_price","color_extra_page_price","bw_first_page_price","bw_extra_page_price","loadingUser","login","setEmail","setPassword","emailError","setEmailError","passwordError","setPasswordError","Row","Col","lg","Label","onLogin","onError","Docdrop","uploadFile","uploadedFile","acceptedFormat","acceptedFormatLabel","rejectedFiles","setRejectedFiles","useDropzone","accept","onDrop","acceptedFiles","onDropRejected","getRootProps","getInputProps","size","file","path","createNewsletter","newsletter","isTest","pageCount","formData","FormData","append","s3requestOptions","s3response","s3body","s3_url","tagIds","tags","tag","s3_path","is_test","newsletterData","fileLink","pdf_path","delivered","delivered_count","inTransit","in_transit_count","returned","returned_count","creationDate","estimatedArrival","estimated_arrival","tagData","numContacts","total_contacts","fetchNewsletters","newslettersData","UPLOAD_FILE","REMOVE_FILE","ADD_FILTER","ADD_UPLOAD_TAG","addFilter","removeFilter","removeFile","updateFileUploadStep","step","addUploadTag","removeUploadTag","addNewsletter","removeAllUploadTags","addAllUploadTags","setNewsletters","newsletters","uploadStep","uploadSelectedTags","selectedFilters","sendNewsletter","loadNewsletters","fetchTags","tagsData","createTag","fetchContacts","createContacts","tag_ids","UPLOAD_CSV","REMOVE_CSV","addOrgContacts","uploadCsv","removeCsv","updateCsvUploadStep","updateCsvRows","rows","uploadedCsv","header","loadOrgContacts","createOrgContacts","mapping","row","firstName","lastName","inmateNumber","facilityName","facilityState","facilityCity","facilityAddress","facilityPostal","doubleSided","loadTags","addTag","addNewTag","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","height","ConfirmSendModal","handleBackClick","handleSubmission","opacity","_ref16","_ref17","_ref18","_ref19","_ref20","_ref21","_ref22","_ref23","_ref24","_ref25","_ref26","_ref27","_ref28","_ref29","_ref30","_ref31","_ref32","_ref33","_ref34","_ref35","_ref36","_ref37","_ref38","_ref39","_ref40","_ref41","_ref42","SuccessModal","handleDone","sampleTagColors","Tag","canRemove","count","TagSelector","selectedTags","removeTag","showTotalCount","showInputField","availableTags","setAvailableTags","inputField","setInputField","query","setQuery","focus","handleTagRemoval","autoFocus","input","reduce","previousValue","currentValue","handleTagSelection","ProgressBarHeader","stepLabels","ProgressBar","round","FunnelButton","onNext","onBack","cta","enabled","setName","setNewsletter","setPageCount","showModal","setShowModal","showSuccessModal","setShowSuccessModal","toggle","setToggle","hasFetchedTags","setHasFetchedTags","getPageCount","useCallback","fileURL","pdfjsLib","workerSrc","pdfjsWorker","promise","loadPDF","numPages","obj","URL","createObjectURL","handleNextClick","Check","orgContacts","filters","filteredOrgContact","setFilteredOrgContacts","hasFetchedData","setHasFetchedData","passes","t","Table","responsive","hover","FieldMappingRow","options","objKey","sample","field","option","FieldMappingTable","setMapping","currentTarget","parseInt","dupIndex","entries","findIndex","initialContactFieldMap","ErrorAlert","Alert","Heading","fileReader","feedback","setFeedback","handFileRead","result","readString","FileReader","onloadend","readAsText","href","rel","Template","values","every","fieldMap","hasFetched","setHasFetched","filteredNewsletters","setFilteredNewsletters","filteredResults","PrivateRoute","authenticated","component","Route","App","Login","exact","NewsletterHistoryPage","NewsletterCreationPage","ContactsPage","UploadContactsPage","VolunteerPage","Boolean","window","location","hostname","match","rootReducer","combineReducers","userState","setItem","clear","selectedFilter","selectedTag","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","console"],"mappings":"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","file":"static/js/main.8752bf4d.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","export const formatDate = (date: Date) => {\n  return `${date.getMonth() + 1}/${date.getDate()}`;\n};\n\nfunction hashCode(str: string): number {\n  var hash = 0;\n  for (var i = 0; i < str.length; i++) {\n    hash = str.charCodeAt(i) + ((hash << 6) - hash);\n  }\n  return hash;\n}\n\nconst unauthenticatedMessages: string[] = [\n  'Expired Token',\n  'Unauthorized',\n  'Unauthenticated',\n];\n\nexport function unauthenticated(errorMessages: string[]): boolean {\n  return errorMessages.some((errorMessage) =>\n    unauthenticatedMessages.includes(errorMessage),\n  );\n}\n\nexport function generateTagColor(colors: TagColor[], label: string): string {\n  return colors[Math.abs(hashCode(label) % colors.length)];\n}\n","import React from 'react';\nimport Image from 'react-bootstrap/Image';\nimport './VolunteerCard.css';\nimport { formatDate } from 'src/utils/utils';\n\ninterface VolunteerProps {\n  volunteer: Volunteer;\n  handleClick: (e: React.MouseEvent<HTMLDivElement>) => void;\n  isActive: boolean;\n}\n\nconst VolunteerCard: React.FC<VolunteerProps> = ({\n  volunteer,\n  handleClick,\n  isActive,\n}) => {\n  const activeBorder = isActive ? 'volunteer-card-active' : '';\n  const fontColor = isActive ? 'primary' : 'black-500';\n  return (\n    <div\n      className={`d-flex flex-row  pr-3 py-4 volunteer-card border-bottom ${activeBorder}`}\n      onClick={handleClick}>\n      <Image className=\"small-image p4\" src={volunteer.image} roundedCircle />\n      <div className=\"ml-4 d-flex flex-column\">\n        <span className={`${fontColor} p4`}>{volunteer.name}</span>\n        <span className=\"black-400 p6\">\n          Total letters sent: {volunteer.total_letters_sent}\n        </span>\n        <span className=\"black-400 p6\">\n          Last letter sent:{' '}\n          {volunteer.last_letter_sent\n            ? formatDate(volunteer.last_letter_sent)\n            : 'None'}\n        </span>\n      </div>\n      <hr />\n    </div>\n  );\n};\n\nexport default VolunteerCard;\n","import React from 'react';\nimport Image from 'react-bootstrap/Image';\nimport { formatDate } from 'src/utils/utils';\nimport './ContactCard.css';\n\ninterface ContactCardProps {\n  contact: Contact;\n}\n\nconst ContactCard: React.FC<ContactCardProps> = ({ contact }) => {\n  return (\n    <div className=\"d-flex flex-column py-4 border-bottom contact-card\">\n      <div className=\"d-flex flex-row\">\n        <Image\n          src={contact.profile_img_path}\n          className=\"small-image\"\n          roundedCircle\n        />\n        <div className=\"d-flex flex-column ml-3\">\n          <span className=\"black-500\">\n            {contact.first_name} {contact.last_name}\n          </span>\n          <span className=\"black-400\">{contact.inmate_number}</span>\n          <span className=\"black-400\">{contact.facility_name}</span>\n        </div>\n      </div>\n      <div className=\"d-flex flex-row black-200-bg mt-3\">\n        <div className=\"d-flex flex-column align-items-center p-1\">\n          <span className=\"black-400 p7\">Letters sent</span>\n          <span className=\"black-400 p6\">{contact.total_letters_sent}</span>\n        </div>\n        <div className=\"d-flex flex-column align-items-center p-1\">\n          <span className=\"black-400 p7\">Last sent</span>\n          <span className=\"black-400 p6\">\n            {contact.last_letter_sent\n              ? formatDate(contact.last_letter_sent)\n              : 'None'}\n          </span>\n        </div>\n        <div className=\"d-flex flex-column align-items-center p-1\">\n          <span className=\"black-400 p7\">Relationship</span>\n          <span className=\"black-400 p6\">{contact.relationship}</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ContactCard;\n","import React, { useState, useEffect } from 'react';\nimport Image from 'react-bootstrap/Image';\nimport ContactCard from './ContactCard';\nimport { Button, Form } from 'react-bootstrap';\nimport './VolunteerDetails.css';\nimport { VolunteerActionTypes } from '../../../redux/modules/volunteer';\n\ninterface VolunteerDetailsProps {\n  volunteer: Volunteer;\n  page_id: string;\n  showUpdateForm: boolean;\n  handleUpdateClose: () => void;\n  handleUpdateShow: () => void;\n  token: string;\n  orgId: number;\n  updateVolunteer: (\n    token: string,\n    org_id: number,\n    role: string,\n    volunteer: Volunteer,\n  ) => Promise<Volunteer>;\n  selectVolunteer: (token: string, volunteer: Volunteer) => void;\n  removeVolunteer: (token: string, volunteer: Volunteer) => Promise<void>;\n  loadVolunteers: (token: string, org_id: number) => void;\n  handleError: (error: ErrorResponse) => VolunteerActionTypes;\n  user: User;\n}\n\nconst VolunteerDetails: React.FC<VolunteerDetailsProps> = ({\n  volunteer,\n  page_id,\n  showUpdateForm,\n  handleUpdateClose,\n  handleUpdateShow,\n  token,\n  orgId,\n  updateVolunteer,\n  selectVolunteer,\n  removeVolunteer,\n  loadVolunteers,\n  handleError,\n  user,\n}) => {\n  const [newRole, setNewRole] = useState(volunteer.role);\n  const [confirmRemove, setConfirmRemove] = useState(false);\n\n  useEffect(() => {\n    if (!showUpdateForm) {\n      setNewRole(volunteer.role);\n      setConfirmRemove(false);\n    }\n  });\n\n  const handleRoleChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    setNewRole(event.target.value.toLowerCase());\n  };\n\n  const handleRemove = (event: React.MouseEvent) => {\n    if (confirmRemove) {\n      removeVolunteer(token, volunteer)\n        .then(() => loadVolunteers(token, orgId))\n        .then(() => handleUpdateClose())\n        .then(() => setConfirmRemove(false))\n        .catch((error) => handleError(error));\n    } else {\n      setConfirmRemove(true);\n    }\n  };\n\n  const handleSave = (event: React.MouseEvent) => {\n    updateVolunteer(token, orgId, newRole, volunteer)\n      .then((volunteer) => selectVolunteer(token, volunteer))\n      .catch((error) => handleError(error));\n    handleUpdateClose();\n  };\n\n  if (showUpdateForm) {\n    return (\n      <section\n        id={page_id}\n        className=\"volunteer-sidebar d-flex flex-column mr-4 bg-white shadow-sm mt-5\">\n        <Button\n          className=\"cancel-update\"\n          variant=\"link\"\n          onClick={handleUpdateClose}>\n          Cancel\n        </Button>\n        <Button className=\"update-link\" variant=\"link\" onClick={handleSave}>\n          Save\n        </Button>\n        <div className=\"d-flex flex-column align-items-center pt-5\">\n          <Image src={volunteer.image} className=\"large-image\" roundedCircle />\n          <span className=\"black-500 font-weight-bold p3 mt-3\">\n            {volunteer.name}\n          </span>\n          <Form className=\"mt-3\">\n            <Form.Group controlId=\"select-role\">\n              <Form.Control\n                as=\"select\"\n                custom\n                onChange={handleRoleChange}\n                disabled={user.id === volunteer.user_id}>\n                <option selected={volunteer.role === 'member'}>Member</option>\n                <option selected={volunteer.role === 'admin'}>Admin</option>\n              </Form.Control>\n            </Form.Group>\n          </Form>\n          {confirmRemove && (\n            <span className=\"red p6 confirm-remove\">\n              Are you sure you want to remove {volunteer.name} from this\n              organization?\n            </span>\n          )}\n          <Button\n            className=\"remove-volunteer mb-5\"\n            variant=\"outline-danger\"\n            onClick={handleRemove}\n            disabled={user.id === volunteer.user_id}>\n            Remove Volunteer\n          </Button>\n        </div>\n      </section>\n    );\n  } else {\n    return (\n      <section\n        id={page_id}\n        className=\"volunteer-sidebar d-flex flex-column mr-4 bg-white shadow-sm mt-5 mb-5\">\n        <Button\n          className=\"update-link\"\n          variant=\"link\"\n          onClick={handleUpdateShow}>\n          Edit\n        </Button>\n        <div className=\"d-flex flex-column align-items-center pt-5\">\n          <Image src={volunteer.image} className=\"large-image\" roundedCircle />\n          <span className=\"black-500 font-weight-bold p3 mt-3\">\n            {volunteer.name}\n          </span>\n          <span className=\"black-400\">{volunteer.role.toUpperCase()}</span>\n          {volunteer.details && (\n            <span className=\"black-400\">{volunteer.details.email}</span>\n          )}\n          {volunteer.details && (\n            <span className=\"black-400\">\n              {volunteer.details.city}, {volunteer.details.state}\n            </span>\n          )}\n        </div>\n        {volunteer.details && (\n          <div className=\"pl-5 pr-5 mb-2\">\n            <hr />\n          </div>\n        )}\n        {volunteer.details && (\n          <div className=\"d-flex flex-column pl-5 pr-5 pb-5\">\n            <span className=\"black-500 font-weight-bold\">\n              Contacts ({volunteer.details.contacts.length})\n            </span>\n            {volunteer.details.contacts.map((contact, index) => (\n              <ContactCard key={index} contact={contact} />\n            ))}\n          </div>\n        )}\n      </section>\n    );\n  }\n};\n\nexport default VolunteerDetails;\n","import React from 'react';\nimport { formatDate } from 'src/utils/utils';\nimport './LetterCard.css';\n\ninterface LetterCardProps {\n  letter: Letter;\n  handleClick: (e: React.MouseEvent<HTMLDivElement>) => void;\n}\n\nconst LetterCard: React.FC<LetterCardProps> = ({ letter, handleClick }) => {\n  return (\n    <div\n      onClick={handleClick}\n      className=\"letter-card d-flex flex-column py-3 px-4 mt-3 border rounded\">\n      <div className=\"d-flex flex-row justify-content-between\">\n        <span>{letter.contact_name}</span>\n        <span className=\"primary\">Sent {formatDate(letter.created_at)}</span>\n      </div>\n      <span className=\"black-400 letter-card-preview\">{letter.content}</span>\n      <span className=\"black-400\">Read More</span>\n    </div>\n  );\n};\n\nexport default LetterCard;\n","import React from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport Image from 'react-bootstrap/Image';\ninterface LetterModalProps {\n  letter: Letter;\n  show: boolean;\n  handleClose: () => void;\n}\n\nconst LetterModal: React.FC<LetterModalProps> = ({\n  letter,\n  show,\n  handleClose,\n}) => {\n  return (\n    <Modal show={show} onHide={handleClose}>\n      <Modal.Header closeButton>\n        <Modal.Title>{letter.contact_name}</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <div className=\"d-flex flex-column\">\n          <span>{letter.content}</span>\n          {letter.images.map((image_url) => (\n            <Image src={image_url} className=\"large-image mt-3\" />\n          ))}\n        </div>\n      </Modal.Body>\n    </Modal>\n  );\n};\n\nexport default LetterModal;\n","export const API_URL =\n  process.env && process.env.REACT_APP_API_URL\n    ? process.env.REACT_APP_API_URL\n    : '';\n\nexport const BASE_URL =\n  process.env && process.env.REACT_APP_BASE_URL\n    ? process.env.REACT_APP_BASE_URL\n    : '';\n","import url from 'url';\nimport { API_URL } from './base';\n\nexport async function fetchVolunteers(\n  token: string,\n  org_id: number,\n): Promise<Volunteer[]> {\n  const requestOptions: RequestInit = {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n  };\n  const response = await fetch(\n    url.resolve(API_URL, `org/${org_id}/users`),\n    requestOptions,\n  );\n  const body = await response.json();\n  if (body.status === 'ERROR') {\n    throw body;\n  }\n  const volunteersData: Volunteer[] = [];\n  interface v {\n    id: number;\n    user_id: number;\n    name: string;\n    image: string;\n    role: string;\n    total_letters_sent: number;\n    last_letter_sent: string | null;\n  }\n  body.data.data.forEach((volunteer: v) => {\n    const volunteerData: Volunteer = {\n      id: volunteer.id,\n      user_id: volunteer.user_id,\n      name: volunteer.name,\n      image: volunteer.image,\n      role: volunteer.role,\n      total_letters_sent: volunteer.total_letters_sent,\n      last_letter_sent: null,\n      details: null,\n    };\n    if (volunteer.last_letter_sent) {\n      volunteerData.last_letter_sent = new Date(volunteer.last_letter_sent);\n    }\n    volunteersData.push(volunteerData);\n  });\n  return volunteersData;\n}\n\nexport async function fetchVolunteerDetails(\n  token: string,\n  volunteer: Volunteer,\n): Promise<Volunteer> {\n  const requestOptions = {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n  };\n\n  const response = await fetch(\n    url.resolve(API_URL, `org/user/${volunteer.id}`),\n    requestOptions,\n  );\n  const body = await response.json();\n  if (body.status === 'ERROR') {\n    throw body;\n  }\n\n  const email = body.data.user.email;\n  const city = body.data.user.city;\n  const state = body.data.user.state;\n  const user_id = body.data.user.id;\n\n  const contactsResponse = await fetch(\n    url.resolve(API_URL, `contacts/${user_id}`),\n    requestOptions,\n  );\n  const contactsBody = await contactsResponse.json();\n  if (contactsBody.status === 'ERROR') {\n    throw contactsBody.message;\n  }\n  interface c {\n    first_name: string;\n    middle_name: string | null;\n    last_name: string;\n    inmate_number: string;\n    facility_name: string;\n    facility_address: string;\n    facility_city: string;\n    facility_state: string;\n    facility_postal: string;\n    profile_img_path: string;\n    relationship: string;\n    dorm: string | null;\n    unit: string | null;\n    total_letters_sent: number;\n    last_letter_sent: string | null;\n    org_id: number | null;\n    color: boolean;\n    double_sided: boolean;\n  }\n  const contactsData: Contact[] = [];\n  contactsBody.data.data.forEach((contact: c) => {\n    if (contact.org_id === null) {\n      const contactData: Contact = {\n        first_name: contact.first_name,\n        middle_name: contact.middle_name,\n        last_name: contact.last_name,\n        inmate_number: contact.inmate_number,\n        facility_name: contact.facility_name,\n        facility_address: contact.facility_address,\n        facility_city: contact.facility_city,\n        facility_state: contact.facility_state,\n        facility_postal: contact.facility_postal,\n        profile_img_path: contact.profile_img_path,\n        relationship: contact.relationship,\n        dorm: contact.dorm,\n        unit: contact.unit,\n        total_letters_sent: contact.total_letters_sent,\n        last_letter_sent: null,\n        org_id: contact.org_id,\n        color: contact.color,\n        double_sided: contact.double_sided,\n      };\n      if (contact.last_letter_sent) {\n        contactData.last_letter_sent = new Date(contact.last_letter_sent);\n      }\n      contactsData.push(contactData);\n    }\n  });\n\n  const lettersResponse = await fetch(\n    url.resolve(API_URL, `letters/${user_id}`),\n    requestOptions,\n  );\n  const lettersBody = await lettersResponse.json();\n  if (lettersBody.status === 'ERROR') {\n    throw lettersBody.message;\n  }\n  interface image {\n    id: number;\n    letter_id: number;\n    img_src: string;\n    created_at: string;\n    updated_at: string;\n  }\n  interface l {\n    id: number;\n    created_at: string;\n    type: LetterType;\n    content: string;\n    sent: boolean;\n    lob_validation_error: boolean;\n    lob_status: string | null;\n    last_lob_status_update: string | null;\n    page_count: number | null;\n    user_name: string;\n    contact_name: string;\n    images: image[];\n  }\n  const lettersData: Letter[] = [];\n  lettersBody.data.data.forEach((letter: l) => {\n    if (!letter.lob_validation_error && letter.lob_status) {\n      const letterData: Letter = {\n        id: letter.id,\n        created_at: new Date(letter.created_at),\n        type: letter.type,\n        content: letter.content,\n        sent: letter.sent,\n        lob_validation_error: letter.lob_validation_error,\n        lob_status: letter.lob_status,\n        last_lob_status_update: null,\n        page_count: letter.page_count,\n        user_name: letter.user_name,\n        contact_name: letter.contact_name,\n        images: [],\n      };\n      if (letter.last_lob_status_update) {\n        letterData.last_lob_status_update = new Date(\n          letter.last_lob_status_update,\n        );\n      }\n      letter.images.forEach((image) => letterData.images.push(image.img_src));\n      lettersData.push(letterData);\n    }\n  });\n\n  volunteer.details = {\n    email: email,\n    city: city,\n    state: state,\n    letters: lettersData,\n    contacts: contactsData,\n  };\n\n  return volunteer;\n}\n\nexport async function addVolunteer(\n  token: string,\n  org_id: number,\n  email: string,\n): Promise<Volunteer> {\n  const requestOptions = {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({\n      org_id: org_id,\n      user_email: email,\n      role: 'member',\n    }),\n  };\n  const response = await fetch(\n    url.resolve(API_URL, 'org/user'),\n    requestOptions,\n  );\n  const body = await response.json();\n  if (body.status === 'ERROR') {\n    throw body;\n  }\n  const volunteerData: Volunteer = {\n    id: body.data.org_user.id,\n    user_id: body.data.org_user.user_id,\n    name: body.data.org_user.name,\n    image: body.data.org_user.image,\n    role: body.data.org_user.role,\n    total_letters_sent: body.data.org_user.total_letters_sent,\n    last_letter_sent: null,\n    details: null,\n  };\n  if (body.data.org_user.last_letter_sent) {\n    volunteerData.last_letter_sent = new Date(\n      body.data.org_user.last_letter_sent,\n    );\n  }\n  return volunteerData;\n}\n\nexport async function updateVolunteer(\n  token: string,\n  org_id: number,\n  role: string,\n  volunteer: Volunteer,\n): Promise<Volunteer> {\n  const requestOptions = {\n    method: 'PUT',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({\n      org_id: org_id,\n      user_id: volunteer.user_id,\n      role: role,\n    }),\n  };\n  const response = await fetch(\n    url.resolve(API_URL, `org/user/${volunteer.id}`),\n    requestOptions,\n  );\n  const body = await response.json();\n  if (body.status === 'ERROR') {\n    throw body;\n  }\n  const volunteerData: Volunteer = {\n    id: volunteer.id,\n    user_id: volunteer.user_id,\n    name: volunteer.name,\n    image: volunteer.image,\n    role: body.data.role,\n    total_letters_sent: volunteer.total_letters_sent,\n    last_letter_sent: volunteer.last_letter_sent,\n    details: null,\n  };\n  return volunteerData;\n}\n\nexport async function removeVolunteer(\n  token: string,\n  volunteer: Volunteer,\n): Promise<void> {\n  const requestOptions = {\n    method: 'DELETE',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n  };\n  const response = await fetch(\n    url.resolve(API_URL, `org/user/${volunteer.id}`),\n    requestOptions,\n  );\n  const body = await response.json();\n  if (body.status === 'ERROR') {\n    throw body;\n  }\n}\n","import { AppThunk } from 'src/redux/helpers';\nimport {\n  fetchVolunteerDetails,\n  fetchVolunteers,\n} from '../../services/Api/volunteers';\n\n// Action Constants & Shapes\nconst SET_VOLUNTEERS = 'volunteer/SET_VOLUNTEERS';\nconst SELECT_VOLUNTEER = 'volunteer/SET_VOLUNTEER';\nconst LOADING = 'volunteer/LOADING';\nconst LOADING_DETAILS = 'volunteer/LOADING_DETAILS';\nconst ERROR = 'volunteer/ERROR';\n\ninterface SetVolunteersAction {\n  type: typeof SET_VOLUNTEERS;\n  payload: Volunteer[];\n}\n\ninterface LoadingAction {\n  type: typeof LOADING;\n  payload: null;\n}\n\ninterface ErrorAction {\n  type: typeof ERROR;\n  payload: ErrorResponse;\n}\n\ninterface SelectVolunteerAction {\n  type: typeof SELECT_VOLUNTEER;\n  payload: Volunteer;\n}\n\ninterface LoadingDetailsAction {\n  type: typeof LOADING_DETAILS;\n  payload: null;\n}\n\nexport type VolunteerActionTypes =\n  | SetVolunteersAction\n  | SelectVolunteerAction\n  | LoadingAction\n  | LoadingDetailsAction\n  | ErrorAction;\n\n// Action Creators\nconst setVolunteers = (volunteers: Volunteer[]): VolunteerActionTypes => {\n  return {\n    type: SET_VOLUNTEERS,\n    payload: volunteers,\n  };\n};\n\nexport const loading = (): VolunteerActionTypes => {\n  return {\n    type: LOADING,\n    payload: null,\n  };\n};\n\nexport const handleError = (error: ErrorResponse): VolunteerActionTypes => {\n  return {\n    type: ERROR,\n    payload: error,\n  };\n};\n\nconst setSelectedVolunteer = (volunteer: Volunteer): VolunteerActionTypes => {\n  return {\n    type: SELECT_VOLUNTEER,\n    payload: volunteer,\n  };\n};\n\nconst loadingDetails = (): VolunteerActionTypes => {\n  return {\n    type: LOADING_DETAILS,\n    payload: null,\n  };\n};\n\n// Reducer\nconst initialState: VolunteerState = {\n  all_volunteers: [],\n  loading: false,\n  error: {} as ErrorResponse,\n  loading_details: false,\n  selected_volunteer: {} as Volunteer,\n};\n\nexport function volunteersReducer(\n  state = initialState,\n  action: VolunteerActionTypes,\n): VolunteerState {\n  switch (action.type) {\n    case LOADING:\n      return {\n        ...state,\n        error: {\n          date: null,\n          status: '',\n          message: '',\n          data: null,\n        },\n        loading: true,\n      };\n    case ERROR:\n      return {\n        ...state,\n        loading: false,\n        loading_details: false,\n        error: action.payload,\n      };\n    case SET_VOLUNTEERS:\n      return {\n        ...state,\n        all_volunteers: action.payload,\n      };\n    case LOADING_DETAILS:\n      return {\n        ...state,\n        error: {\n          date: null,\n          status: '',\n          message: '',\n          data: null,\n        },\n        loading_details: true,\n      };\n    case SELECT_VOLUNTEER:\n      return {\n        ...state,\n        loading: false,\n        loading_details: false,\n        selected_volunteer: action.payload,\n      };\n    default:\n      return state;\n  }\n}\n\nexport const loadVolunteers = (\n  token: string,\n  org_id: number,\n): AppThunk => async (dispatch) => {\n  dispatch(loading());\n  fetchVolunteers(token, org_id)\n    .then((volunteersData) => dispatch(setVolunteers(volunteersData)))\n    .then((action) => {\n      if (action.payload instanceof Array) {\n        dispatch(selectVolunteer(token, action.payload[0]));\n      }\n    })\n    .catch((error) => dispatch(handleError(error)));\n};\n\nexport const selectVolunteer = (\n  token: string,\n  volunteer: Volunteer,\n): AppThunk => async (dispatch) => {\n  if (volunteer.details) {\n    dispatch(setSelectedVolunteer(volunteer));\n  } else {\n    dispatch(loadingDetails());\n    fetchVolunteerDetails(token, volunteer)\n      .then((volunteer) => dispatch(setSelectedVolunteer(volunteer)))\n      .catch((error) => dispatch(handleError(error)));\n  }\n};\n\nexport const inviteVolunteer = (\n  token: string,\n  volunteer: Volunteer,\n  state: VolunteerState,\n): AppThunk => async (dispatch) => {\n  const action = await dispatch(\n    setVolunteers([...state.all_volunteers, volunteer]),\n  );\n  if (action.payload instanceof Array) {\n    const length = action.payload.length;\n    dispatch(selectVolunteer(token, action.payload[length - 1]));\n  }\n};\n","import React, { useState } from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport FormControl from 'react-bootstrap/FormControl';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport { Link2 } from 'react-feather';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport './InviteModal.css';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { inviteVolunteer, loading } from 'src/redux/modules/volunteer';\nimport { addVolunteer } from '../../../services/Api/volunteers';\nimport { connect, ConnectedProps } from 'react-redux';\nimport { RootState } from '../../../redux';\n\nconst SHARE_LINK_URL = 'letters.ameelio.org/register/';\n\ninterface InviteModalProps {\n  shareLink: string;\n  show: boolean;\n  handleClose: () => void;\n  token: string;\n  orgId: number | null;\n}\nconst mapStateToProps = (\n  state: RootState,\n  inviteModalProps: InviteModalProps,\n) => ({\n  volunteerState: state.volunteers,\n  shareLink: inviteModalProps.shareLink,\n  show: inviteModalProps.show,\n  handleClose: inviteModalProps.handleClose,\n  token: inviteModalProps.token,\n  orgId: inviteModalProps.orgId,\n});\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      inviteVolunteer,\n      loading,\n    },\n    dispatch,\n  );\nconst connector = connect(mapStateToProps, mapDispatchToProps);\ntype PropsFromRedux = ConnectedProps<typeof connector>;\n\n// TODO: API call upon clicking, we probably need to pass the Org object here to retrieve theh share link\nconst InviteModal: React.FC<PropsFromRedux> = ({\n  shareLink,\n  show,\n  handleClose,\n  token,\n  orgId,\n  volunteerState,\n  inviteVolunteer,\n  loading,\n}) => {\n  const [searchQuery, setSearchQuery] = useState<string>('');\n  const [copied, setCopied] = useState<boolean>(false);\n  const [errorMessage, setErrorMessage] = useState<string>('');\n\n  const handleSearchChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchQuery(event.target.value);\n  };\n\n  const onInvite = (\n    token: string,\n    volunteer: Volunteer,\n    volunteerState: VolunteerState,\n  ) => {\n    inviteVolunteer(token, volunteer, volunteerState);\n    handleClose();\n  };\n\n  const onSendInvite = (event: React.MouseEvent) => {\n    event.preventDefault();\n    if (orgId) {\n      addVolunteer(token, orgId, searchQuery)\n        .then((volunteer) => onInvite(token, volunteer, volunteerState))\n        .catch((error) => setErrorMessage(error.message));\n    }\n  };\n\n  return (\n    <Modal show={show} onHide={handleClose}>\n      <Modal.Header closeButton>\n        <Modal.Title>Invite to Organization</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <Form className=\"mb-3\">\n          <FormControl\n            type=\"text\"\n            placeholder=\"Add people by email\"\n            value={searchQuery}\n            onChange={handleSearchChange}\n            isInvalid={errorMessage !== ''}\n          />\n          <Form.Control.Feedback type=\"invalid\">\n            {errorMessage}\n          </Form.Control.Feedback>\n        </Form>\n        <div className=\"d-flex flex-column\">\n          <Button block onClick={onSendInvite}>\n            Invite\n          </Button>\n\n          <div className=\"d-flex flex-row mt-3\">\n            <Link2 />\n            <span className=\"ml-3 mr-auto\">Share Team Invite Link</span>\n            <CopyToClipboard\n              text={SHARE_LINK_URL + shareLink}\n              onCopy={() => setCopied(true)}>\n              <span className=\"primary copy-share-link\">Copy link</span>\n            </CopyToClipboard>\n          </div>\n          <span className=\"p6\">\n            Anyone with the link can join as an organization volunteer\n          </span>\n          {copied && <span className=\"mt-3 p6\">Copied to clipboard.</span>}\n        </div>\n      </Modal.Body>\n    </Modal>\n  );\n};\n\nexport default connector(InviteModal);\n","// Constants & Shapes\nconst LOGIN = 'user/LOGIN';\nconst LOGOUT = 'user/LOGOUT';\nconst LOADING = 'user/LOADING';\n\ninterface LoginAction {\n  type: typeof LOGIN;\n  payload: User;\n}\n\ninterface LogoutAction {\n  type: typeof LOGOUT;\n  payload: null;\n}\n\ninterface LoadingAction {\n  type: typeof LOADING;\n  payload: null;\n}\n\ntype UserActionTypes = LoginAction | LogoutAction | LoadingAction;\n\n// Action Creators\nexport const login = (user: User): UserActionTypes => {\n  return {\n    type: LOGIN,\n    payload: user,\n  };\n};\n\nexport const logout = (): UserActionTypes => {\n  return {\n    type: LOGOUT,\n    payload: null,\n  };\n};\n\nexport const loadingUser = (): UserActionTypes => {\n  return {\n    type: LOADING,\n    payload: null,\n  };\n};\n\nconst fromStorage: string | null = sessionStorage.getItem('userState');\nlet storedUserState: UserState | null = null;\nif (fromStorage) {\n  storedUserState = JSON.parse(fromStorage);\n}\n\n// Reducer\nlet initialState: UserState = storedUserState || {\n  authInfo: {\n    isLoadingToken: false,\n    isLoggedIn: false,\n  },\n  user: {\n    id: -1,\n    token: '',\n    org: null,\n  },\n};\n\nexport function userReducer(\n  state = initialState,\n  action: UserActionTypes,\n): UserState {\n  switch (action.type) {\n    case LOADING:\n      return {\n        ...state,\n        authInfo: {\n          isLoadingToken: true,\n          isLoggedIn: false,\n        },\n      };\n    case LOGIN:\n      const userState: UserState = {\n        authInfo: {\n          isLoadingToken: false,\n          isLoggedIn: true,\n        },\n        user: action.payload,\n      };\n      sessionStorage.setItem('userState', JSON.stringify(userState));\n      return userState;\n    case LOGOUT:\n      sessionStorage.clear();\n      return {\n        authInfo: {\n          isLoadingToken: false,\n          isLoggedIn: false,\n        },\n        user: {\n          id: -1,\n          // firstName: '',\n          // lastName: '',\n          // email: '',\n          // phone: '',\n          // address1: '',\n          // address2: '',\n          // country: '',\n          // postal: '',\n          // city: '',\n          // state: '',\n          // imageUri: '',\n          token: '',\n          org: null,\n        },\n      };\n    default:\n      return state;\n  }\n}\n","import React, { useState, useEffect } from 'react';\nimport VolunteerCard from './VolunteerCard';\nimport VolunteerDetails from './VolunteerDetails';\nimport LetterCard from './LetterCard';\nimport Button from 'react-bootstrap/Button';\nimport FormControl from 'react-bootstrap/FormControl';\nimport Form from 'react-bootstrap/Form';\nimport './index.css';\nimport LetterModal from './LetterModal';\nimport InviteModal from './InviteModal';\nimport { RootState } from '../../../redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { logout } from '../../../redux/modules/user';\nimport {\n  loadVolunteers,\n  selectVolunteer,\n  loading,\n  inviteVolunteer,\n  handleError,\n} from 'src/redux/modules/volunteer';\nimport {\n  updateVolunteer,\n  removeVolunteer,\n} from '../../../services/Api/volunteers';\nimport { unauthenticated } from 'src/utils/utils';\nimport { connect, ConnectedProps } from 'react-redux';\nimport { Card, Container, Spinner } from 'react-bootstrap';\nimport { addBusinessDays, differenceInBusinessDays } from 'date-fns';\n\nconst mapStateToProps = (state: RootState) => ({\n  volunteers: state.volunteers,\n  user: state.user,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      loadVolunteers,\n      selectVolunteer,\n      loading,\n      logout,\n      inviteVolunteer,\n    },\n    dispatch,\n  );\n\nconst connector = connect(mapStateToProps, mapDispatchToProps);\ntype PropsFromRedux = ConnectedProps<typeof connector>;\n\n// TODO move each section to its own container\nconst UnconnectedVolunteers: React.FC<PropsFromRedux> = ({\n  loadVolunteers,\n  volunteers,\n  selectVolunteer,\n  loading,\n  user,\n  logout,\n}) => {\n  const [filteredVolunteers, setFilteredVolunteers] = useState<Volunteer[]>(\n    volunteers.all_volunteers,\n  );\n\n  const token = user.user.token;\n  const org = user.user.org;\n\n  const [searchQuery, setSearchQuery] = useState<string>('');\n\n  const [showLetterModal, setShowLetterModal] = useState(false);\n  const [showInviteModal, setShowInviteModal] = useState(false);\n  const [showUpdateForm, setShowUpdateForm] = useState(false);\n\n  const [selectedLetter, setSelectedLetter] = useState<Letter | null>(null);\n  const [hasFetchedVolunteers, setHasFetchedVolunteers] = useState<boolean>(\n    false,\n  );\n\n  const handleLetterClose = () => setShowLetterModal(false);\n  const handleLetterShow = () => setShowLetterModal(true);\n\n  const handleInviteClose = () => setShowInviteModal(false);\n  const handleInviteShow = () => setShowInviteModal(true);\n\n  const handleUpdateClose = () => setShowUpdateForm(false);\n  const handleUpdateShow = () => setShowUpdateForm(true);\n\n  const handleVolunteerClick = (\n    event: React.MouseEvent,\n    volunteer: Volunteer,\n  ) => {\n    handleUpdateClose();\n    selectVolunteer(token, volunteer);\n  };\n\n  const handleLetterClick = (event: React.MouseEvent, letter: Letter) => {\n    setSelectedLetter(letter);\n    handleLetterShow();\n  };\n\n  const handleInviteClick = (event: React.MouseEvent) => {\n    handleInviteShow();\n  };\n\n  const handleSearchChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchQuery(event.target.value);\n  };\n\n  useEffect(() => {\n    if (!hasFetchedVolunteers && org) {\n      loadVolunteers(token, org.id);\n      setHasFetchedVolunteers(true);\n    }\n    const results = volunteers.all_volunteers.filter((volunteer) =>\n      volunteer.name.toLowerCase().includes(searchQuery.toLowerCase()),\n    );\n    setFilteredVolunteers(results);\n  }, [\n    hasFetchedVolunteers,\n    loadVolunteers,\n    volunteers.all_volunteers,\n    searchQuery,\n  ]);\n\n  if (unauthenticated([volunteers.error.message])) {\n    loading();\n    logout();\n  }\n  let problemLoadingDetails = null;\n  if (volunteers.error.data) {\n    if ('org_users' in volunteers.error.data) {\n      loading();\n      logout();\n    }\n    if ('org_user' in volunteers.error.data) {\n      if (volunteers.error.message === 'Associated User not found') {\n        problemLoadingDetails = volunteers.error.data['org_user'];\n      }\n    }\n  }\n\n  const spinner = (\n    <Container id=\"volunteers-spinner\">\n      <Spinner animation=\"border\" role=\"status\" variant=\"primary\">\n        <span className=\"sr-only\">Loading...</span>\n      </Spinner>\n    </Container>\n  );\n\n  if (volunteers.loading) {\n    return spinner;\n  }\n\n  let page_id = 'content';\n  if (volunteers.loading_details) {\n    page_id = 'faded';\n  }\n\n  return (\n    <div className=\"d-flex flex-row\">\n      <section\n        id={page_id}\n        className=\"volunteers-list-sidebar d-flex flex-column mw-27 border-right pl-4 shadow-sm bg-white rounded\">\n        <div className=\"d-flex flex-row justify-content-between align-items-center mt-5 mb-3 mr-3 \">\n          <span className=\"black-500 p3\">Volunteers</span>\n          <Button onClick={handleInviteClick}>Invite</Button>\n        </div>\n        <Form className=\"mr-3 mb-3\">\n          <FormControl\n            type=\"text\"\n            placeholder=\"Search\"\n            value={searchQuery}\n            onChange={handleSearchChange}\n          />\n        </Form>\n        {filteredVolunteers.map((volunteer) => (\n          <VolunteerCard\n            handleClick={(e) => handleVolunteerClick(e, volunteer)}\n            volunteer={volunteer}\n            key={volunteer.name}\n            isActive={volunteer.id === volunteers.selected_volunteer.id}\n          />\n        ))}\n      </section>\n\n      {volunteers.loading_details && spinner}\n\n      {problemLoadingDetails && (\n        <Container id=\"problem-loading-info\">\n          <Card body>\n            There was a problem loading this volunteer's information.{' '}\n            {problemLoadingDetails}\n          </Card>\n        </Container>\n      )}\n\n      {volunteers.selected_volunteer.details && (\n        <section\n          id={page_id}\n          className=\"d-flex flex-column p-5 m-5 bg-white shadow-sm w-50\">\n          <span className=\"p3\">Letters</span>\n          <div className=\"d-flex flex-row\">\n            <div className=\"d-flex flex-column letter-category\">\n              <span className=\"black-400 p4\">In transit</span>\n              {volunteers.selected_volunteer.details.letters\n                .filter((letter) => letter.lob_status === 'letter.in_transit')\n                .map((letter) => (\n                  <LetterCard\n                    key={letter.id}\n                    letter={letter}\n                    handleClick={(e) => handleLetterClick(e, letter)}\n                  />\n                ))}\n            </div>\n            <div className=\"d-flex flex-column ml-5 letter-category\">\n              <span className=\"black-400 p4\">Delivered</span>\n              {volunteers.selected_volunteer.details.letters\n                .filter((letter) => {\n                  const now = new Date();\n                  return (\n                    letter.last_lob_status_update &&\n                    differenceInBusinessDays(\n                      now,\n                      letter.last_lob_status_update,\n                    ) >= 3 &&\n                    letter.lob_status === 'letter.processed_for_delivery'\n                  );\n                })\n                .map((letter, index) => (\n                  <LetterCard\n                    letter={letter}\n                    key={letter.id}\n                    handleClick={(e) => handleLetterClick(e, letter)}\n                  />\n                ))}\n            </div>\n          </div>\n        </section>\n      )}\n\n      {volunteers.selected_volunteer.details && org && (\n        <VolunteerDetails\n          volunteer={volunteers.selected_volunteer}\n          page_id={page_id}\n          showUpdateForm={showUpdateForm}\n          handleUpdateClose={handleUpdateClose}\n          handleUpdateShow={handleUpdateShow}\n          token={token}\n          orgId={org.id}\n          updateVolunteer={updateVolunteer}\n          selectVolunteer={selectVolunteer}\n          removeVolunteer={removeVolunteer}\n          loadVolunteers={loadVolunteers}\n          handleError={handleError}\n          user={user.user}\n        />\n      )}\n\n      {selectedLetter && (\n        <LetterModal\n          letter={selectedLetter}\n          show={showLetterModal}\n          handleClose={handleLetterClose}\n        />\n      )}\n\n      {org && (\n        <InviteModal\n          shareLink={org.share_link}\n          show={showInviteModal}\n          handleClose={handleInviteClose}\n          token={token}\n          orgId={org ? org.id : null}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default connector(UnconnectedVolunteers);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1,.cls-2{fill:#0073eb;stroke:#fff;stroke-miterlimit:10;stroke-width:3px;}.cls-2{opacity:0.7;}.cls-3{fill:#1a1a1a;}\"));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M111.83,48.88h0l-8.38,20.22L98.27,81.58l0,0v.08L91.48,98h0L90,101.55h0l-2.9,7-.6-2.23-.64-2.43-4-15.27L71,47.66l-1.6-6.1L63.79,20.1Z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"87.09 108.56 85.99 107.12 84.4 105.05 77.65 96.2 71.96 88.74 50.31 60.32 41.21 48.39 71.04 47.66 81.83 88.63 85.85 103.9 86.49 106.33 87.09 108.56\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-1\",\n  points: \"67.95 154.72 59.71 174.61 29.58 171.5 58.55 149.76 64.48 145.32 75.17 137.31 67.96 154.69 67.95 154.72\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M134.41,137.69h0L81.75,151.16l-2.83.73-11,2.8,7.21-17.38h0l2.27-5.48h0l9.54-23,.1-.23h0l2.9-7h0L91.47,98h0l6.75-16.29h0l0-.09,5.17-12.47,8.38-20.22h0l4,15.53,4.51,17.78,4.95,19.43,3,11.89h0Z\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-1\",\n  points: \"161.52 72.3 156.34 84.79 151.4 96.73 147.81 105.36 146.74 107.93 146.74 107.94 134.41 137.69 128.27 113.52 128.26 113.52 125.24 101.63 120.29 82.2 120.3 82.19 121.87 81.82 141.5 77.1 160.2 72.62 161.52 72.3\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"187.8 89.91 179.44 91.47 170.42 93.17 170.41 93.16 151.4 96.73 156.34 84.79 161.52 72.3 162.14 72.71 187.8 89.91\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-3\",\n  d: \"M234.77,211.91h-17.2L209.18,190H163l-8.4,21.88H137.37l38.93-98.23h19.54Zm-66-36.73H203.4l-17.33-45.27Z\"\n});\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-3\",\n  d: \"M259.67,211.91H245V161.28h-5.64V148.07h11.83l6.19,6.2c5.5-4.54,12.24-7.43,18.57-7.43a20.61,20.61,0,0,1,17.34,8.66,31.53,31.53,0,0,1,21-8.66c11.7,0,22.43,8,22.43,26.55v38.52H322V173.39c0-8.39-4.54-12.93-11.28-12.93-7.57,0-12.52,4.54-12.52,10.59v40.86H283.61V173.39c0-8.39-4.68-12.93-11.29-12.93-7.42,0-12.65,4.4-12.65,10.18Z\"\n});\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-3\",\n  d: \"M393.53,190.72l12.1,6.61c-4.95,8.39-14.17,16.09-26.82,16.09-18.3,0-31.37-15.41-31.37-33.29s13.07-33.57,31.23-33.57,29.44,15.27,30,31.92l-5.5,5.36H362.3c.82,9.5,8.11,15.82,16.51,15.82C384.58,199.66,390.36,196,393.53,190.72ZM363,172.15h30.95c-1-7.15-7.43-12.52-15.27-12.52A15.72,15.72,0,0,0,363,172.15Z\"\n});\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-3\",\n  d: \"M461.76,190.72l12.11,6.61c-4.95,8.39-14.17,16.09-26.83,16.09-18.3,0-31.37-15.41-31.37-33.29s13.07-33.57,31.23-33.57,29.44,15.27,30,31.92l-5.5,5.36H430.53c.83,9.5,8.12,15.82,16.51,15.82C452.82,199.66,458.6,196,461.76,190.72Zm-30.54-18.57h30.95c-1-7.15-7.42-12.52-15.27-12.52A15.72,15.72,0,0,0,431.22,172.15Z\"\n});\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-3\",\n  d: \"M489.41,113.68l4.82-5h10.18V197.6h5.64v14.31H495.6l-6.19-6.33Z\"\n});\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-3\",\n  d: \"M540.73,211.91H526V161.28h-5.5V148.07h15l5.23,5.23ZM532,112a10.49,10.49,0,0,1,10.39,10.39A10.37,10.37,0,0,1,532,132.67a10.25,10.25,0,0,1-10.25-10.26A10.37,10.37,0,0,1,532,112Z\"\n});\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-3\",\n  d: \"M620,180a33.36,33.36,0,1,1-33.29-33.29A33.35,33.35,0,0,1,620,180Zm-15,0c0-10.32-7.71-19.12-18.3-19.12s-18.44,8.8-18.44,19.12,7.85,19.26,18.44,19.26S605,190.31,605,180Z\"\n});\n\nvar SvgLogo = function SvgLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Golden_Grid\",\n    \"data-name\": \"Golden Grid\",\n    viewBox: \"0 0 666.85 257.93\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/logo.dfd0363d.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\nimport { RootState } from '../../redux';\nimport { Navbar, Nav } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport './Navbar.css';\nimport { ReactComponent as Logo } from 'src/assets/logo.svg';\nimport { connect, ConnectedProps } from 'react-redux';\nimport { logout } from '../../redux/modules/user';\n\ninterface NavBarProps {}\n\nconst mapStateToProps = (state: RootState) => ({\n  user: state.user,\n});\nconst mapDispatchToProps = {\n  logout,\n};\nconst connector = connect(mapStateToProps, mapDispatchToProps);\ntype PropsFromRedux = ConnectedProps<typeof connector>;\n\nconst NavBar: React.FC<PropsFromRedux> = ({ user, logout }) => {\n  const onLogout = (e: React.MouseEvent) => {\n    e.preventDefault();\n    logout();\n  };\n\n  if (user.authInfo.isLoggedIn) {\n    return (\n      <Navbar\n        collapseOnSelect\n        expand=\"lg\"\n        bg=\"light\"\n        variant=\"light\"\n        sticky=\"top\">\n        <Navbar.Brand>\n          <Link to=\"/\">\n            <Logo width=\"150\" />\n          </Link>\n        </Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\n          <Nav className=\"ml-auto\">\n            <Nav.Link as={Link} to=\"/\">\n              Volunteers\n            </Nav.Link>\n            <Nav.Link as={Link} to=\"/contacts\">\n              Contacts\n            </Nav.Link>\n            <Nav.Link as={Link} to=\"/newsletter\">\n              Newsletter\n            </Nav.Link>\n            <Nav.Link as={Link} to=\"/login\" onClick={onLogout}>\n              Log Out\n            </Nav.Link>\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n    );\n  }\n  return (\n    <Navbar\n      collapseOnSelect\n      expand=\"lg\"\n      bg=\"light\"\n      variant=\"light\"\n      sticky=\"top\">\n      <Navbar.Brand>\n        <Link to=\"/\">\n          <Logo width=\"150\" />\n        </Link>\n      </Navbar.Brand>\n    </Navbar>\n  );\n};\n\nexport default connector(NavBar);\n","import url from 'url';\nimport { API_URL } from './base';\n\nexport async function onLogin(email: string, password: string): Promise<User> {\n  const requestOptions: RequestInit = {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      email: email,\n      password: password,\n    }),\n  };\n\n  const response = await fetch(url.resolve(API_URL, 'login'), requestOptions);\n  const body = await response.json();\n  if (body.status === 'ERROR') {\n    throw body['data'];\n  }\n  const userData: User = {\n    id: body.data.id,\n    token: body.data.token,\n    org: null,\n  };\n\n  const orgRequestOptions: RequestInit = {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${userData.token}`,\n    },\n  };\n\n  const orgResponse = await fetch(\n    url.resolve(API_URL, `user/${userData.id}/org`),\n    orgRequestOptions,\n  );\n  const orgBody = await orgResponse.json();\n  if (orgBody.status === 'ERROR') {\n    throw orgBody.message;\n  }\n  if (orgBody.data.role === 'member') {\n    throw 'Must be registered as an organization admin.';\n  }\n  userData.org = {\n    id: orgBody.data.org.id,\n    name: orgBody.data.org.name,\n    business_name: orgBody.data.org.business_name,\n    ein: orgBody.data.org.ein,\n    website: orgBody.data.org.website,\n    address_line_1: orgBody.data.org.address_line_1,\n    address_line_2: orgBody.data.org.address_line_2,\n    city: orgBody.data.org.city,\n    state: orgBody.data.org.state,\n    postal: orgBody.data.org.postal,\n    paid_balance: orgBody.data.org.paid_balance,\n    color_first_page_price: orgBody.data.org.color_first_page_price,\n    color_extra_page_price: orgBody.data.org.color_extra_page_price,\n    bw_first_page_price: orgBody.data.org.bw_first_page_price,\n    bw_extra_page_price: orgBody.data.org.bw_extra_page_price,\n    share_link: orgBody.data.org.share_link,\n  };\n\n  return userData;\n}\n","import React, { useState } from 'react';\nimport { RootState } from '../../../redux';\nimport { loadingUser, login, logout } from '../../../redux/modules/user';\nimport { onLogin } from '../../../services/Api';\nimport { connect, ConnectedProps } from 'react-redux';\nimport { Form, Button, Container, Row, Col, Spinner } from 'react-bootstrap';\nimport './index.css';\n\nimport { Redirect } from 'react-router-dom';\n\nconst mapStateToProps = (state: RootState) => ({\n  user: state.user,\n});\n\nconst mapDispatchToProps = { loadingUser, login, logout };\n\nconst connector = connect(mapStateToProps, mapDispatchToProps);\n\ntype PropsFromRedux = ConnectedProps<typeof connector>;\n\nconst UnconnectedLogin: React.FC<PropsFromRedux> = ({\n  loadingUser,\n  login,\n  logout,\n  user,\n}) => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [emailError, setEmailError] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n\n  const onError = (error: Object | string) => {\n    logout();\n    if (typeof error === 'string') {\n      setEmailError(error);\n    } else {\n      if ('email' in error) {\n        setEmailError(error['email'][0]);\n      }\n      if ('password' in error) {\n        setPasswordError(error['password'][0]);\n      }\n    }\n  };\n\n  const tryLogin = (e: React.MouseEvent) => {\n    e.preventDefault();\n    setEmailError('');\n    setPasswordError('');\n    loadingUser();\n    onLogin(email, password)\n      .then((userData) => login(userData))\n      .catch((error) => onError(error));\n  };\n\n  if (user.authInfo.isLoadingToken) {\n    return (\n      <Container id=\"login-spinner\">\n        <Spinner animation=\"border\" role=\"status\" variant=\"primary\">\n          <span className=\"sr-only\">Loading...</span>\n        </Spinner>\n      </Container>\n    );\n  }\n\n  if (user.authInfo.isLoggedIn) {\n    return <Redirect to=\"/\" />;\n  }\n\n  return (\n    <Container id=\"login-form\">\n      <Row className=\"justify-content-lg-center\">\n        <Col lg={5}>\n          <Form>\n            <Form.Group controlId=\"formBasicEmail\">\n              <Form.Label>Email address</Form.Label>\n              <Form.Control\n                type=\"email\"\n                placeholder=\"Enter email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                isInvalid={emailError !== ''}\n              />\n              <Form.Control.Feedback type=\"invalid\">\n                {emailError}\n              </Form.Control.Feedback>\n            </Form.Group>\n\n            <Form.Group controlId=\"formBasicPassword\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                placeholder=\"Password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                isInvalid={passwordError !== ''}\n              />\n              <Form.Control.Feedback type=\"invalid\">\n                {passwordError}\n              </Form.Control.Feedback>\n            </Form.Group>\n            <Button variant=\"primary\" block type=\"submit\" onClick={tryLogin}>\n              Login\n            </Button>\n          </Form>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default connector(UnconnectedLogin);\n","import React, { useState } from 'react';\nimport { useDropzone, FileRejection } from 'react-dropzone';\nimport './Docdrop.css';\nimport { FileText, CheckCircle, XCircle } from 'react-feather';\n\ninterface DocdropProps {\n  uploadFile: (file: File) => void;\n  uploadedFile: File | null;\n  acceptedFormat: string;\n  acceptedFormatLabel: string;\n}\n\nconst Docdrop: React.FC<DocdropProps> = ({\n  uploadFile,\n  uploadedFile,\n  acceptedFormat,\n  acceptedFormatLabel,\n}) => {\n  const [rejectedFiles, setRejectedFiles] = useState<FileRejection[]>([]);\n\n  const { getRootProps, getInputProps } = useDropzone({\n    accept: acceptedFormat,\n    onDrop: (acceptedFiles) => {\n      uploadFile(acceptedFiles[0]);\n      setRejectedFiles([]);\n    },\n    onDropRejected: (rejectedFiles) => {\n      setRejectedFiles(rejectedFiles);\n    },\n  });\n\n  return (\n    <section className=\"d-flex flex-column flex-align-items text-center w-100\">\n      {uploadedFile && rejectedFiles.length === 0 && (\n        <div className=\"d-flex flex-column align-items-center mb-3\">\n          {' '}\n          <CheckCircle color=\"#2EBA77\" size=\"38\" />\n          <span className=\"green font-weight-bold\">Success</span>\n        </div>\n      )}\n      {rejectedFiles.length > 0 && (\n        <div className=\"d-flex flex-column align-items-center mb-3\">\n          {' '}\n          <XCircle color=\"#DF6161\" size=\"38\" />\n          <span className=\"red font-weight-bold\">Something went wrong</span>\n          <span className=\"mw-100 text-wrap overflow-wrap: break-word\">\n            {rejectedFiles[0].file.name} could not be uploaded. <br /> Only{' '}\n            {acceptedFormatLabel} files are allowed. Please reupload your file.\n          </span>\n        </div>\n      )}\n      <div {...getRootProps({ className: 'docdrop' })}>\n        <input {...getInputProps()} />\n        <FileText />\n        {uploadedFile ? (\n          <div>\n            <span>\n              <span className=\"font-weight-bold\">\n                {(uploadedFile as CustomFile).path}\n              </span>{' '}\n              was uploaded succesfully\n            </span>\n          </div>\n        ) : (\n          <p className=\"mt-3\">\n            Drag and drop your {acceptedFormatLabel} file here or{' '}\n            <span className=\"primary\">select a file to upload</span>\n          </p>\n        )}\n      </div>\n      {uploadedFile && (\n        <span className=\"black-500 mt-3\">\n          Click to the next page to continue, or reupload your file.\n        </span>\n      )}\n    </section>\n  );\n};\n\nexport default Docdrop;\n","import url from 'url';\nimport { API_URL, BASE_URL } from './base';\n\nexport async function createNewsletter(\n  token: string,\n  newsletter: DraftNewsletter,\n  isTest: boolean,\n  pageCount: number,\n): Promise<NewsletterLog> {\n  let formData = new FormData();\n  formData.append('type', 'pdf');\n  formData.append('file', newsletter.file);\n  const s3requestOptions = {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n    body: formData,\n  };\n  const s3response = await fetch(\n    url.resolve(BASE_URL, 'file/upload'),\n    s3requestOptions,\n  );\n  const s3body = await s3response.json();\n  if (s3body.status === 'ERROR') {\n    throw s3body;\n  }\n\n  const s3_url = s3body.data;\n  let tagIds: number[] = [];\n  newsletter.tags.forEach((tag) => tagIds.push(tag.id));\n  const requestOptions: RequestInit = {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({\n      name: newsletter.title,\n      s3_path: s3_url,\n      tags: tagIds,\n      is_test: isTest,\n      page_count: pageCount,\n    }),\n  };\n  const response = await fetch(\n    url.resolve(API_URL, 'newsletter'),\n    requestOptions,\n  );\n  const body = await response.json();\n  if (body.status === 'ERROR') {\n    throw body;\n  }\n  const newsletterData: NewsletterLog = {\n    id: body.data.id,\n    title: body.data.name,\n    fileLink: body.data.pdf_path,\n    delivered: body.data.delivered_count,\n    inTransit: body.data.in_transit_count,\n    returned: body.data.returned_count,\n    creationDate: new Date(body.data.created_at),\n    estimatedArrival: null,\n    tags: [],\n  };\n  if (body.data.estimated_arrival) {\n    newsletterData.estimatedArrival = new Date(body.data.estimated_arrival);\n  }\n  interface t {\n    id: number;\n    label: string;\n    total_contacts: number;\n  }\n  body.data.tags.forEach((tag: t) => {\n    const tagData: Tag = {\n      label: tag.label,\n      id: tag.id,\n      numContacts: tag.total_contacts,\n    };\n    newsletterData.tags.push(tagData);\n  });\n  return newsletterData;\n}\n\nexport async function fetchNewsletters(\n  token: string,\n): Promise<NewsletterLog[]> {\n  const requestOptions: RequestInit = {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'text/plain',\n      Authorization: `Bearer ${token}`,\n    },\n  };\n  const response = await fetch(\n    url.resolve(API_URL, 'newsletters'),\n    requestOptions,\n  );\n  const body = await response.json();\n  if (body.status === 'ERROR') {\n    throw body;\n  }\n  interface t {\n    id: number;\n    label: string;\n    total_contacts: number;\n  }\n  interface n {\n    id: number;\n    name: string;\n    pdf_path: string;\n    delivered_count: number;\n    in_transit_count: number;\n    returned_count: number;\n    created_at: string;\n    estimated_arrival: string | null;\n    tags: t[];\n  }\n  const newslettersData: NewsletterLog[] = [];\n  body.data.data.forEach((newsletter: n) => {\n    const newsletterData: NewsletterLog = {\n      id: newsletter.id,\n      title: newsletter.name,\n      fileLink: newsletter.pdf_path,\n      delivered: newsletter.delivered_count,\n      inTransit: newsletter.in_transit_count,\n      returned: newsletter.returned_count,\n      creationDate: new Date(newsletter.created_at),\n      estimatedArrival: null,\n      tags: [],\n    };\n    if (newsletter.estimated_arrival) {\n      newsletterData.estimatedArrival = new Date(newsletter.estimated_arrival);\n    }\n    newsletter.tags.forEach((tag) => {\n      const tagData: Tag = {\n        id: tag.id,\n        numContacts: tag.total_contacts,\n        label: tag.label,\n      };\n      newsletterData.tags.push(tagData);\n    });\n    newslettersData.push(newsletterData);\n  });\n  return newslettersData;\n}\n","import { AppThunk } from 'src/redux/helpers';\nimport {\n  createNewsletter,\n  fetchNewsletters,\n} from '../../services/Api/newsletters';\n\nconst UPLOAD_FILE = 'newsletter/UPLOAD_FILE';\nconst REMOVE_FILE = 'newsletter/REMOVE_FILE';\n\nconst ADD_FILTER = 'newsletter/ADD_FILTER';\nconst REMOVE_FILTER = 'newsletter/REMOVE_FILTER';\nconst UPDATE_FILE_UPLOAD_STEP = 'newsletter/UPDATE_FILE_UPLOAD_STEP';\nconst SET_NEWSLETTERS = 'newsletter/SET_NEWSLETTERS';\nconst ADD_UPLOAD_TAG = 'newsletter/UPDATE_UPLOAD_TAGS';\nconst REMOVE_UPLOAD_TAG = 'newsletter/REMOVE_UPLOAD_TAG';\nconst ADD_NEWSLETTER = 'newsletter/ADD_NEWSLETTER';\nconst REMOVE_ALL_UPLOAD_TAG = 'newsletter/RESET_UPLOAD_TAG';\nconst ADD_ALL_UPLOAD_TAGS = 'newsletter/ADD_ALL_UPLOAD_TAGS';\nconst LOADING = 'newsletter/LOADING';\nconst ERROR = 'newsletter/ERROR';\n\ninterface LoadingAction {\n  type: typeof LOADING;\n  payload: null;\n}\n\ninterface UploadFileAction {\n  type: typeof UPLOAD_FILE;\n  payload: File;\n}\n\ninterface RemoveFileAction {\n  type: typeof REMOVE_FILE;\n}\n\ninterface UpdateUploadStepAction {\n  type: typeof UPDATE_FILE_UPLOAD_STEP;\n  payload: number;\n}\n\ninterface AddUploadTagAction {\n  type: typeof ADD_UPLOAD_TAG;\n  payload: Tag;\n}\n\ninterface RemoveUploadTagAction {\n  type: typeof REMOVE_UPLOAD_TAG;\n  payload: Tag;\n}\n\ninterface SetNewslettersAction {\n  type: typeof SET_NEWSLETTERS;\n  payload: NewsletterLog[];\n}\n\ninterface AddFilterAction {\n  type: typeof ADD_FILTER;\n  payload: Tag;\n}\n\ninterface RemoveFilterAction {\n  type: typeof REMOVE_FILTER;\n  payload: Tag;\n}\n\ninterface AddNewsletterAction {\n  type: typeof ADD_NEWSLETTER;\n  payload: NewsletterLog;\n}\n\ninterface RemoveAllUploadTagsAction {\n  type: typeof REMOVE_ALL_UPLOAD_TAG;\n}\n\ninterface AddAllUploadTagsAction {\n  type: typeof ADD_ALL_UPLOAD_TAGS;\n  payload: Tag[];\n}\n\ninterface ErrorAction {\n  type: typeof ERROR;\n  payload: ErrorResponse;\n}\n\ntype NewsletterActionTypes =\n  | AddFilterAction\n  | RemoveFilterAction\n  | UploadFileAction\n  | UpdateUploadStepAction\n  | AddUploadTagAction\n  | RemoveUploadTagAction\n  | RemoveAllUploadTagsAction\n  | AddAllUploadTagsAction\n  | SetNewslettersAction\n  | AddNewsletterAction\n  | RemoveFileAction\n  | LoadingAction\n  | ErrorAction;\n\n// Action creators\nexport const addFilter = (tag: Tag): NewsletterActionTypes => {\n  return {\n    type: ADD_FILTER,\n    payload: tag,\n  };\n};\n\nexport const removeFilter = (tag: Tag): NewsletterActionTypes => {\n  return {\n    type: REMOVE_FILTER,\n    payload: tag,\n  };\n};\n\nexport const uploadFile = (file: File): NewsletterActionTypes => {\n  return {\n    type: UPLOAD_FILE,\n    payload: file,\n  };\n};\n\nexport const removeFile = (): NewsletterActionTypes => {\n  return {\n    type: REMOVE_FILE,\n  };\n};\n\nexport const updateFileUploadStep = (step: number): NewsletterActionTypes => {\n  return {\n    type: UPDATE_FILE_UPLOAD_STEP,\n    payload: step,\n  };\n};\n\nexport const addUploadTag = (tag: Tag): NewsletterActionTypes => {\n  return {\n    type: ADD_UPLOAD_TAG,\n    payload: tag,\n  };\n};\n\nexport const removeUploadTag = (tag: Tag): NewsletterActionTypes => {\n  return {\n    type: REMOVE_UPLOAD_TAG,\n    payload: tag,\n  };\n};\n\nconst addNewsletter = (newsletter: NewsletterLog): NewsletterActionTypes => {\n  return {\n    type: ADD_NEWSLETTER,\n    payload: newsletter,\n  };\n};\n\nexport const removeAllUploadTags = (): NewsletterActionTypes => {\n  return {\n    type: REMOVE_ALL_UPLOAD_TAG,\n  };\n};\n\nexport const addAllUploadTags = (tags: Tag[]): NewsletterActionTypes => {\n  return {\n    type: ADD_ALL_UPLOAD_TAGS,\n    payload: tags,\n  };\n};\n\nconst setNewsletters = (\n  newsletters: NewsletterLog[],\n): NewsletterActionTypes => {\n  return { type: SET_NEWSLETTERS, payload: newsletters };\n};\n\nconst handleError = (error: ErrorResponse): NewsletterActionTypes => {\n  return {\n    type: ERROR,\n    payload: error,\n  };\n};\n\nexport const loading = (): NewsletterActionTypes => {\n  return {\n    type: LOADING,\n    payload: null,\n  };\n};\n\n// Reducer\nconst initialState: NewsletterState = {\n  newsletters: [] as NewsletterLog[],\n  uploadedFile: null,\n  uploadStep: 0,\n  uploadSelectedTags: [],\n  selectedFilters: [],\n  error: {} as ErrorResponse,\n  loading: false,\n};\n\nexport function newsletterReducer(\n  state = initialState,\n  action: NewsletterActionTypes,\n): NewsletterState {\n  switch (action.type) {\n    case ADD_FILTER:\n      return {\n        ...state,\n        selectedFilters: [...state.selectedFilters, action.payload],\n        loading: false,\n      };\n    case REMOVE_FILTER:\n      return {\n        ...state,\n        selectedFilters: state.selectedFilters.filter(\n          (selectedFilter) => selectedFilter.id !== action.payload.id,\n        ),\n        loading: false,\n      };\n    case SET_NEWSLETTERS:\n      return { ...state, newsletters: action.payload, loading: false };\n    case UPLOAD_FILE:\n      return {\n        ...state,\n        uploadedFile: action.payload,\n        loading: false,\n      };\n    case REMOVE_FILE:\n      return {\n        ...state,\n        uploadedFile: null,\n        loading: false,\n      };\n    case UPDATE_FILE_UPLOAD_STEP:\n      return {\n        ...state,\n        uploadStep: action.payload,\n        loading: false,\n      };\n    case ADD_UPLOAD_TAG:\n      return {\n        ...state,\n        uploadSelectedTags: [...state.uploadSelectedTags, action.payload],\n        loading: false,\n      };\n    case REMOVE_UPLOAD_TAG:\n      return {\n        ...state,\n        uploadSelectedTags: state.uploadSelectedTags.filter(\n          (selectedTag) => selectedTag.id !== action.payload.id,\n        ),\n        loading: false,\n      };\n    case ADD_NEWSLETTER:\n      return {\n        ...state,\n        newsletters: [...state.newsletters, action.payload],\n        loading: false,\n      };\n    case REMOVE_ALL_UPLOAD_TAG:\n      return {\n        ...state,\n        uploadSelectedTags: [],\n        loading: false,\n      };\n    case ADD_ALL_UPLOAD_TAGS:\n      return {\n        ...state,\n        uploadSelectedTags: action.payload,\n        loading: false,\n      };\n    case LOADING:\n      return {\n        ...state,\n        error: {\n          date: null,\n          status: '',\n          message: '',\n          data: null,\n        },\n        loading: true,\n      };\n    default:\n      return state;\n  }\n}\n\nexport const sendNewsletter = (\n  token: string,\n  newsletter: DraftNewsletter,\n  pageCount: number,\n): AppThunk => async (dispatch) => {\n  dispatch(loading());\n  createNewsletter(token, newsletter, false, pageCount)\n    .then((newsletter) => dispatch(addNewsletter(newsletter)))\n    .catch((error) => handleError(error));\n};\n\nexport const loadNewsletters = (token: string): AppThunk => async (\n  dispatch,\n) => {\n  dispatch(loading());\n  fetchNewsletters(token)\n    .then((newsletters) => dispatch(setNewsletters(newsletters)))\n    .catch((error) => handleError(error));\n};\n","import url from 'url';\nimport { API_URL } from './base';\n\nexport async function fetchTags(token: string, org_id: number): Promise<Tag[]> {\n  const requestOptions: RequestInit = {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n  };\n  const response = await fetch(\n    url.resolve(API_URL, `org/${org_id}/tags`),\n    requestOptions,\n  );\n  const body = await response.json();\n  if (body.status === 'ERROR') {\n    throw body;\n  }\n  const tagsData: Tag[] = [];\n  interface t {\n    id: number;\n    label: string;\n    total_contacts: number;\n  }\n  body.data.data.forEach((tag: t) => {\n    const tagData = {\n      id: tag.id,\n      label: tag.label,\n      numContacts: tag.total_contacts,\n    };\n    tagsData.push(tagData);\n  });\n  return tagsData;\n}\n\nexport async function createTag(\n  token: string,\n  org_id: number,\n  label: string,\n): Promise<Tag> {\n  const requestOptions: RequestInit = {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({\n      org_id: org_id,\n      label: label,\n    }),\n  };\n  const response = await fetch(url.resolve(API_URL, `org/tag`), requestOptions);\n  const body = await response.json();\n  if (body.status === 'ERROR') {\n    throw body;\n  }\n  return {\n    id: body.data.id,\n    label: body.data.label,\n    numContacts: body.data.total_contacts,\n  };\n}\n","import url from 'url';\nimport { API_URL } from './base';\n\nexport async function fetchContacts(\n  token: string,\n  org_id: number,\n): Promise<OrgContact[]> {\n  const requestOptions: RequestInit = {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n  };\n  const response = await fetch(\n    url.resolve(API_URL, `contacts/org/${org_id}`),\n    requestOptions,\n  );\n  const body = await response.json();\n  if (body.status === 'ERROR') {\n    throw body;\n  }\n  const contactsData: OrgContact[] = [];\n  interface t {\n    id: number;\n    label: string;\n    total_contacts: number;\n  }\n  interface c {\n    first_name: string;\n    middle_name: string | null;\n    last_name: string;\n    inmate_number: string;\n    facility_name: string;\n    facility_address: string;\n    facility_city: string;\n    facility_state: string;\n    facility_postal: string;\n    profile_img_path: string;\n    relationship: string;\n    dorm: string | null;\n    unit: string | null;\n    total_letters_sent: number;\n    last_letter_sent: string | null;\n    org_id: number | null;\n    color: boolean;\n    double_sided: boolean;\n    tags: Array<t>;\n  }\n  body.data.data.forEach((contact: c) => {\n    const contactData: OrgContact = {\n      first_name: contact.first_name,\n      middle_name: contact.middle_name,\n      last_name: contact.last_name,\n      inmate_number: contact.inmate_number,\n      facility_name: contact.facility_name,\n      facility_address: contact.facility_address,\n      facility_city: contact.facility_city,\n      facility_state: contact.facility_state,\n      facility_postal: contact.facility_postal,\n      profile_img_path: contact.profile_img_path,\n      relationship: contact.relationship,\n      dorm: contact.dorm,\n      unit: contact.unit,\n      total_letters_sent: contact.total_letters_sent,\n      last_letter_sent: null,\n      org_id: contact.org_id,\n      color: contact.color,\n      double_sided: contact.double_sided,\n      tags: [],\n    };\n    if (contact.last_letter_sent) {\n      contactData.last_letter_sent = new Date(contact.last_letter_sent);\n    }\n    contact.tags.forEach((tag: t) => {\n      const tagData: Tag = {\n        label: tag.label,\n        id: tag.id,\n        numContacts: tag.total_contacts,\n      };\n      contactData.tags.push(tagData);\n    });\n    contactsData.push(contactData);\n  });\n  return contactsData;\n}\n\nexport async function createContacts(\n  token: string,\n  org_id: number,\n  tag_ids: number[],\n  contacts: Contact[],\n): Promise<OrgContact[]> {\n  const requestOptions: RequestInit = {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({\n      org_id: org_id,\n      tags: tag_ids,\n      contacts: contacts,\n    }),\n  };\n  const response = await fetch(\n    url.resolve(API_URL, 'contacts/org'),\n    requestOptions,\n  );\n  const body = await response.json();\n  if (body.status === 'ERROR') {\n    throw body;\n  }\n  const contactsData: OrgContact[] = [];\n  interface t {\n    id: number;\n    label: string;\n    total_contacts: number;\n  }\n  interface c {\n    first_name: string;\n    middle_name: string | null;\n    last_name: string;\n    inmate_number: string;\n    facility_name: string;\n    facility_address: string;\n    facility_city: string;\n    facility_state: string;\n    facility_postal: string;\n    profile_img_path: string;\n    relationship: string;\n    dorm: string | null;\n    unit: string | null;\n    total_letters_sent: number;\n    last_letter_sent: string | null;\n    org_id: number | null;\n    color: boolean;\n    double_sided: boolean;\n    tags: Array<t>;\n  }\n  body.data.data.contacts.forEach((contact: c) => {\n    const contactData: OrgContact = {\n      first_name: contact.first_name,\n      middle_name: contact.middle_name,\n      last_name: contact.last_name,\n      inmate_number: contact.inmate_number,\n      facility_name: contact.facility_name,\n      facility_address: contact.facility_address,\n      facility_city: contact.facility_city,\n      facility_state: contact.facility_state,\n      facility_postal: contact.facility_postal,\n      profile_img_path: contact.profile_img_path,\n      relationship: contact.relationship,\n      dorm: contact.dorm,\n      unit: contact.unit,\n      total_letters_sent: contact.total_letters_sent,\n      last_letter_sent: null,\n      org_id: contact.org_id,\n      color: contact.color,\n      double_sided: contact.double_sided,\n      tags: [],\n    };\n    if (contact.last_letter_sent) {\n      contactData.last_letter_sent = new Date(contact.last_letter_sent);\n    }\n    contact.tags.forEach((tag: t) => {\n      const tagData: Tag = {\n        label: tag.label,\n        id: tag.id,\n        numContacts: tag.total_contacts,\n      };\n      contactData.tags.push(tagData);\n    });\n    contactsData.push(contactData);\n  });\n  return contactsData;\n}\n","import { AppThunk } from 'src/redux/helpers';\n// import { sampleOrgContacts } from 'src/data/sampleOrgContacts';\nimport { fetchContacts, createContacts } from 'src/services/Api/contacts';\nimport { loadTags } from './tag';\n\nconst SET_ORG_CONTACTS = 'orgContacts/SET_ORG_CONTACTS';\nconst ADD_FILTER = 'orgContacts/ADD_FILTER';\nconst REMOVE_FILTER = 'orgContacts/REMOVE_FILTER';\nconst UPLOAD_CSV = 'orgContacts/UPLOAD_CSV';\nconst REMOVE_CSV = 'orgContacts/REMOVE_CSV';\nconst UPDATE_FILE_UPLOAD_STEP = 'orgContacts/UPDATE_FILE_UPLOAD_STEP';\nconst UPDATE_CSV_ROWS = 'orgContacts/UPDATE_CSV_ROWS';\nconst ADD_UPLOAD_TAG = 'orgContacts/UPDATE_UPLOAD_TAGS';\nconst REMOVE_UPLOAD_TAG = 'orgContacts/REMOVE_UPLOAD_TAG';\nconst REMOVE_ALL_UPLOAD_TAG = 'orgContacts/RESET_UPLOAD_TAG';\nconst ADD_ORG_CONTACTS = 'orgContacts/ADD_ORG_CONTACTS';\nconst LOADING = 'orgContacts/LOADING';\nconst ERROR = 'orgContacts/ERROR';\n\ninterface SetOrgContactsAction {\n  type: typeof SET_ORG_CONTACTS;\n  payload: OrgContact[];\n}\n\ninterface AddFilterAction {\n  type: typeof ADD_FILTER;\n  payload: Tag;\n}\n\ninterface RemoveFilterAction {\n  type: typeof REMOVE_FILTER;\n  payload: Tag;\n}\n\ninterface UploadCsvAction {\n  type: typeof UPLOAD_CSV;\n  payload: File;\n}\n\ninterface UpdateUploadStepAction {\n  type: typeof UPDATE_FILE_UPLOAD_STEP;\n  payload: number;\n}\n\ninterface UpdateCsvRowsAction {\n  type: typeof UPDATE_CSV_ROWS;\n  payload: string[][];\n}\n\ninterface AddUploadTagAction {\n  type: typeof ADD_UPLOAD_TAG;\n  payload: Tag;\n}\n\ninterface RemoveUploadTagAction {\n  type: typeof REMOVE_UPLOAD_TAG;\n  payload: Tag;\n}\n\ninterface RemoveAllUploadTagsAction {\n  type: typeof REMOVE_ALL_UPLOAD_TAG;\n}\n\ninterface RemoveCsvAction {\n  type: typeof REMOVE_CSV;\n}\n\ninterface AddOrgContactsAction {\n  type: typeof ADD_ORG_CONTACTS;\n  payload: OrgContact[];\n}\n\ninterface LoadingAction {\n  type: typeof LOADING;\n  payload: null;\n}\n\ninterface ErrorAction {\n  type: typeof ERROR;\n  payload: ErrorResponse;\n}\n\ntype OrgContactsActionTypes =\n  | SetOrgContactsAction\n  | AddOrgContactsAction\n  | AddFilterAction\n  | RemoveFilterAction\n  | UploadCsvAction\n  | RemoveCsvAction\n  | UpdateUploadStepAction\n  | UpdateCsvRowsAction\n  | AddUploadTagAction\n  | RemoveUploadTagAction\n  | RemoveAllUploadTagsAction\n  | LoadingAction\n  | ErrorAction;\n\nexport const setOrgContacts = (\n  contacts: OrgContact[],\n): OrgContactsActionTypes => {\n  return {\n    type: SET_ORG_CONTACTS,\n    payload: contacts,\n  };\n};\n\nexport const addOrgContacts = (\n  contacts: OrgContact[],\n): OrgContactsActionTypes => {\n  return {\n    type: ADD_ORG_CONTACTS,\n    payload: contacts,\n  };\n};\n\nexport const addFilter = (tag: Tag): OrgContactsActionTypes => {\n  return {\n    type: ADD_FILTER,\n    payload: tag,\n  };\n};\n\nexport const removeFilter = (tag: Tag): OrgContactsActionTypes => {\n  return {\n    type: REMOVE_FILTER,\n    payload: tag,\n  };\n};\n\nexport const uploadCsv = (file: File): OrgContactsActionTypes => {\n  return {\n    type: UPLOAD_CSV,\n    payload: file,\n  };\n};\n\nexport const removeCsv = (): OrgContactsActionTypes => {\n  return {\n    type: REMOVE_CSV,\n  };\n};\n\nexport const updateCsvUploadStep = (step: number): OrgContactsActionTypes => {\n  return {\n    type: UPDATE_FILE_UPLOAD_STEP,\n    payload: step,\n  };\n};\n\nexport const updateCsvRows = (rows: string[][]): OrgContactsActionTypes => {\n  return {\n    type: UPDATE_CSV_ROWS,\n    payload: rows,\n  };\n};\n\nexport const addUploadTag = (tag: Tag): OrgContactsActionTypes => {\n  return {\n    type: ADD_UPLOAD_TAG,\n    payload: tag,\n  };\n};\n\nexport const removeUploadTag = (tag: Tag): OrgContactsActionTypes => {\n  return {\n    type: REMOVE_UPLOAD_TAG,\n    payload: tag,\n  };\n};\n\nexport const removeAllUploadTags = (): OrgContactsActionTypes => {\n  return {\n    type: REMOVE_ALL_UPLOAD_TAG,\n  };\n};\n\nexport const loading = (): OrgContactsActionTypes => {\n  return {\n    type: LOADING,\n    payload: null,\n  };\n};\n\nexport const handleError = (error: ErrorResponse): OrgContactsActionTypes => {\n  return {\n    type: ERROR,\n    payload: error,\n  };\n};\n\nconst initialState: OrgContactsState = {\n  contacts: [],\n  selectedFilters: [],\n  uploadedCsv: { file: null, data: [[]], header: [] },\n  uploadStep: 0,\n  uploadSelectedTags: [],\n  loading: false,\n  error: {} as ErrorResponse,\n};\n\nexport function orgContactsReducer(\n  state = initialState,\n  action: OrgContactsActionTypes,\n): OrgContactsState {\n  switch (action.type) {\n    case SET_ORG_CONTACTS:\n      return { ...state, contacts: action.payload, loading: false };\n    case ADD_ORG_CONTACTS:\n      return {\n        ...state,\n        contacts: [...action.payload, ...state.contacts],\n        loading: false,\n      };\n    case ADD_FILTER:\n      return {\n        ...state,\n        selectedFilters: [...state.selectedFilters, action.payload],\n        loading: false,\n      };\n    case REMOVE_FILTER:\n      return {\n        ...state,\n        selectedFilters: state.selectedFilters.filter(\n          (selectedFilter) => selectedFilter.id !== action.payload.id,\n        ),\n        loading: false,\n      };\n    case UPLOAD_CSV:\n      return {\n        ...state,\n        uploadedCsv: { ...state.uploadedCsv, file: action.payload },\n        loading: false,\n      };\n    case REMOVE_CSV:\n      return {\n        ...state,\n        uploadedCsv: { file: null, data: [[]], header: [] },\n        loading: false,\n      };\n    case UPDATE_FILE_UPLOAD_STEP:\n      return {\n        ...state,\n        uploadStep: action.payload,\n        loading: false,\n      };\n    case UPDATE_CSV_ROWS:\n      const [header, ...data] = action.payload;\n      return {\n        ...state,\n        uploadedCsv: { ...state.uploadedCsv, data: data, header: header },\n        loading: false,\n      };\n    case ADD_UPLOAD_TAG:\n      return {\n        ...state,\n        uploadSelectedTags: [...state.uploadSelectedTags, action.payload],\n        loading: false,\n      };\n    case REMOVE_UPLOAD_TAG:\n      return {\n        ...state,\n        uploadSelectedTags: state.uploadSelectedTags.filter(\n          (selectedTag) => selectedTag.id !== action.payload.id,\n        ),\n        loading: false,\n      };\n    case REMOVE_ALL_UPLOAD_TAG:\n      return {\n        ...state,\n        uploadSelectedTags: [],\n        loading: false,\n      };\n    case LOADING:\n      return {\n        ...state,\n        error: {\n          date: null,\n          status: '',\n          message: '',\n          data: null,\n        },\n        loading: true,\n      };\n    case ERROR:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload,\n      };\n    default:\n      return state;\n  }\n}\n\nexport const loadOrgContacts = (\n  token: string,\n  org_id: number,\n): AppThunk => async (dispatch) => {\n  dispatch(loading());\n  fetchContacts(token, org_id)\n    .then((contactsData) => dispatch(setOrgContacts(contactsData)))\n    .catch((error) => handleError(error));\n};\n\nexport const createOrgContacts = (\n  token: string,\n  org_id: number,\n  mapping: ContactFieldMap,\n  uploadedCsv: CSV,\n  tags: Tag[],\n): AppThunk => async (dispatch) => {\n  const contacts: Contact[] = uploadedCsv.data.map((row) => {\n    return {\n      first_name: row[mapping.firstName.index],\n      last_name: row[mapping.lastName.index],\n      inmate_number: row[mapping.inmateNumber.index],\n      facility_name: row[mapping.facilityName.index],\n      facility_state: row[mapping.facilityState.index],\n      facility_city: row[mapping.facilityCity.index],\n      facility_address: row[mapping.facilityAddress.index],\n      facility_postal: row[mapping.facilityPostal.index],\n      unit: row[mapping.unit.index],\n      dorm: row[mapping.dorm.index],\n      relationship: 'Other',\n      color: row[mapping.color.index] || true,\n      double_sided: row[mapping.doubleSided.index] || false,\n    } as Contact;\n  });\n  const tag_ids: number[] = tags.map((tag) => {\n    return tag.id;\n  });\n  dispatch(loading());\n  createContacts(token, org_id, tag_ids, contacts)\n    .then((contactsData) => dispatch(addOrgContacts(contactsData)))\n    .then(() => {\n      tags.forEach((tag) => dispatch(removeFilter(tag)));\n    })\n    .then(() => dispatch(loadTags(token, org_id)))\n    .catch((error) => handleError(error));\n};\n","import { AppThunk } from 'src/redux/helpers';\nimport { sampleTags } from 'src/data/sampleTags';\nimport { fetchTags, createTag } from 'src/services/Api/tags';\nimport { addUploadTag } from './orgcontacts';\n\n// Constants & Shapes\nconst SET_TAGS = 'tag/GET_TAGS';\nconst ADD_TAG = 'tag/ADD_TAG';\nconst LOADING = 'tag/LOADING';\nconst ERROR = 'tag/ERROR';\n\ninterface SetTagAction {\n  type: typeof SET_TAGS;\n  payload: Tag[];\n}\n\ninterface AddTagAction {\n  type: typeof ADD_TAG;\n  payload: Tag;\n}\n\ninterface LoadingAction {\n  type: typeof LOADING;\n  payload: null;\n}\n\ninterface ErrorAction {\n  type: typeof ERROR;\n  payload: ErrorResponse;\n}\n\ntype TagActionTypes = SetTagAction | AddTagAction | LoadingAction | ErrorAction;\n\n// Action Creators\n\nconst setTags = (tags: Tag[]): TagActionTypes => {\n  return {\n    type: SET_TAGS,\n    payload: tags,\n  };\n};\n\nconst addTag = (tag: Tag): TagActionTypes => {\n  return {\n    type: ADD_TAG,\n    payload: tag,\n  };\n};\n\nexport const loading = (): TagActionTypes => {\n  return {\n    type: LOADING,\n    payload: null,\n  };\n};\n\nexport const handleError = (error: ErrorResponse): TagActionTypes => {\n  return {\n    type: ERROR,\n    payload: error,\n  };\n};\n\n// Reducer\nconst initialState: TagState = {\n  tags: [],\n  loading: false,\n  error: {} as ErrorResponse,\n};\n\nexport function tagsReducer(\n  state = initialState,\n  action: TagActionTypes,\n): TagState {\n  switch (action.type) {\n    case SET_TAGS:\n      return { ...state, tags: action.payload, loading: false };\n    case ADD_TAG:\n      return {\n        ...state,\n        tags: [...state.tags, action.payload],\n        loading: false,\n      };\n    case LOADING:\n      return {\n        ...state,\n        loading: true,\n        error: {\n          date: null,\n          status: '',\n          message: '',\n          data: null,\n        },\n      };\n    case ERROR:\n      return { ...state, error: action.payload };\n    default:\n      return state;\n  }\n}\n\nexport const loadTags = (token: string, org_id: number): AppThunk => async (\n  dispatch,\n) => {\n  dispatch(loading());\n  fetchTags(token, org_id)\n    .then((tagsData) => dispatch(setTags(tagsData)))\n    .catch((error) => handleError(error));\n};\n\nexport const onCreate = (tag: Tag): AppThunk => async (dispatch) => {\n  dispatch(addTag(tag));\n  dispatch(addUploadTag(tag));\n};\n\nexport const addNewTag = (\n  token: string,\n  org_id: number,\n  label: string,\n): AppThunk => async (dispatch) => {\n  createTag(token, org_id, label)\n    .then((tagData) => dispatch(onCreate(tagData)))\n    .catch((error) => handleError(error));\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M112.866 141.7L87.5922 87.6049C87.5268 87.465 87.4641 87.3241 87.404 87.1825C86.6088 85.3055 86.2871 83.2825 86.4666 81.2688C86.6597 79.1031 87.4265 77.015 88.699 75.1899L121.239 28.5603C122.767 26.3698 124.96 24.6476 127.542 23.6111C130.124 22.5745 132.979 22.2701 135.747 22.7362L194.699 32.6375C197.006 33.0258 199.173 33.9359 201.01 35.287C202.717 36.5433 204.089 38.1447 205.021 39.9665C205.092 40.104 205.16 40.2427 205.225 40.3827L230.499 94.4783C232 97.6915 232.063 101.326 230.673 104.582C229.284 107.838 226.555 110.449 223.089 111.841L131.597 148.569C128.13 149.961 124.209 150.019 120.697 148.731C117.184 147.443 114.367 144.914 112.866 141.7Z\",\n  fill: \"#C3DBF5\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M112.866 141.7L87.5922 87.6049C86.6602 85.6109 86.2736 83.4345 86.4666 81.2688C86.6597 79.1031 87.4265 77.015 88.699 75.1899L121.239 28.5603C122.767 26.3698 124.96 24.6476 127.542 23.6111C130.124 22.5746 132.979 22.2701 135.747 22.7362L194.699 32.6375C197.006 33.0258 199.173 33.9359 201.01 35.287C202.846 36.6381 204.294 38.3884 205.225 40.3827L230.499 94.4783M112.866 141.7C114.367 144.914 117.184 147.443 120.697 148.731C124.209 150.019 128.13 149.961 131.597 148.569L223.089 111.841C226.555 110.449 229.284 107.838 230.673 104.582C232.063 101.326 232 97.6915 230.499 94.4783M112.866 141.7L144.242 96.7323M230.499 94.4783L173.651 84.9268M144.242 96.7323L87.394 87.1808M144.242 96.7323L153.843 98.3455C156.612 98.8116 159.467 98.5071 162.049 97.4706C164.631 96.4341 166.824 94.7119 168.351 92.5214L173.651 84.9268M173.651 84.9268L205.027 39.9586\",\n  stroke: \"white\",\n  strokeWidth: 6.28524,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3.74684 171.932L16.0111 136.789C16.0428 136.698 16.0762 136.607 16.1112 136.518C16.5752 135.33 17.3271 134.255 18.3107 133.376C19.3685 132.432 20.6615 131.743 22.075 131.373L58.2025 121.922C59.8991 121.477 61.6996 121.508 63.377 122.011C65.0545 122.514 66.5336 123.466 67.6278 124.748L90.9389 152.022C91.8506 153.09 92.4639 154.349 92.7244 155.689C92.9666 156.935 92.8968 158.215 92.5222 159.43C92.4939 159.521 92.4639 159.613 92.4322 159.704L80.1679 194.847C79.4394 196.935 77.8462 198.668 75.7386 199.667C73.6311 200.666 71.1819 200.847 68.9299 200.172L9.4913 182.349C7.23929 181.674 5.3689 180.197 4.29161 178.244C3.21431 176.29 3.01835 174.02 3.74684 171.932Z\",\n  fill: \"#C3DBF5\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3.74684 171.932L16.0111 136.789C16.463 135.493 17.2529 134.321 18.3107 133.376C19.3685 132.432 20.6615 131.743 22.075 131.373L58.2025 121.922C59.8991 121.477 61.6996 121.508 63.377 122.011C65.0545 122.514 66.5336 123.466 67.6278 124.748L90.9389 152.022C91.8506 153.09 92.4639 154.349 92.7244 155.689C92.9849 157.029 92.8845 158.408 92.4322 159.704L80.1679 194.847M3.74684 171.932C3.01835 174.02 3.21431 176.29 4.2916 178.244C5.3689 180.197 7.23929 181.674 9.4913 182.349L68.9299 200.172C71.1819 200.847 73.6311 200.666 75.7386 199.667C77.8462 198.668 79.4394 196.935 80.1679 194.847M3.74684 171.932L38.585 162.816M80.1679 194.847L57.6902 168.544M38.585 162.816L16.1073 136.513M38.585 162.816L42.3812 167.258C43.4754 168.539 44.9545 169.492 46.632 169.995C48.3094 170.498 50.1099 170.529 51.8065 170.084L57.6902 168.544M57.6902 168.544L92.5283 159.428\",\n  stroke: \"white\",\n  strokeWidth: 6.28524,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M218.171 189.591L216.226 161.209C216.221 161.135 216.217 161.062 216.215 160.988C216.184 160.015 216.393 159.044 216.826 158.149C217.293 157.187 218.004 156.343 218.898 155.692L241.753 139.073C242.826 138.292 244.118 137.822 245.465 137.721C246.812 137.62 248.155 137.893 249.324 138.506L274.211 151.548C275.185 152.059 276.004 152.788 276.597 153.671C277.148 154.492 277.487 155.422 277.59 156.39C277.598 156.463 277.604 156.536 277.609 156.609L279.554 184.992C279.67 186.678 279.062 188.349 277.865 189.637C276.667 190.925 274.979 191.724 273.17 191.86L225.427 195.437C223.618 195.573 221.838 195.033 220.477 193.937C219.116 192.84 218.287 191.277 218.171 189.591Z\",\n  fill: \"#C3DBF5\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M218.171 189.591L216.226 161.209C216.154 160.162 216.36 159.111 216.826 158.149C217.293 157.187 218.004 156.343 218.898 155.692L241.753 139.073C242.826 138.292 244.118 137.822 245.465 137.721C246.812 137.62 248.155 137.893 249.324 138.506L274.211 151.548C275.185 152.059 276.004 152.788 276.597 153.671C277.19 154.554 277.537 155.563 277.609 156.609L279.554 184.992M218.171 189.591C218.287 191.277 219.116 192.84 220.477 193.937C221.838 195.033 223.618 195.573 225.427 195.437L273.17 191.86C274.979 191.724 276.667 190.925 277.865 189.637C279.062 188.349 279.67 186.678 279.554 184.992M218.171 189.591L240.21 173.564M279.554 184.992L255.555 172.414M240.21 173.564L216.21 160.986M240.21 173.564L244.263 175.688C245.431 176.301 246.774 176.575 248.121 176.474C249.469 176.373 250.76 175.902 251.833 175.121L255.555 172.414M255.555 172.414L277.594 156.387\",\n  stroke: \"white\",\n  strokeWidth: 6.28524,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgMail = function SvgMail(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 283,\n    height: 204,\n    viewBox: \"0 0 283 204\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMail, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/mail.44a73e0e.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport { ReactComponent as Illustration } from 'src/assets/mail.svg';\n\ninterface ConfirmSendModalProps {\n  show: boolean;\n  newsletter: DraftNewsletter;\n  handleClose: () => void;\n  handleSubmission: (event: React.MouseEvent) => void;\n  handleBackClick: (event: React.MouseEvent) => void;\n}\n\nconst ConfirmSendModal: React.FC<ConfirmSendModalProps> = ({\n  show,\n  newsletter,\n  handleClose,\n  handleBackClick,\n  handleSubmission,\n}) => {\n  return (\n    <Modal show={show} onHide={handleClose}>\n      <div className=\"blue-600-bg w-100 py-2\"></div>\n      <Modal.Header>\n        <Modal.Title>Send \"{newsletter.title}\"</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <div className=\"d-flex flex-column align-items-center\">\n          <Illustration />\n          <div className=\"d-flex flex-row mt-5\">\n            <Button\n              onClick={handleBackClick}\n              className=\"mr-3\"\n              size=\"lg\"\n              variant=\"outline-secondary\">\n              Back\n            </Button>\n            <Button className=\"ml-3\" size=\"lg\" onClick={handleSubmission}>\n              Send\n            </Button>\n          </div>\n        </div>\n      </Modal.Body>\n    </Modal>\n  );\n};\n\nexport default ConfirmSendModal;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M225.059 26.8537C230.394 26.8537 234.719 22.529 234.719 17.1942C234.719 11.8593 230.394 7.53461 225.059 7.53461C219.724 7.53461 215.399 11.8593 215.399 17.1942C215.399 22.529 219.724 26.8537 225.059 26.8537Z\",\n  fill: \"#2F2E41\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M218.233 23.0879C218.233 23.0879 216.836 40.6826 215.159 40.6826C213.482 40.6826 234.72 39.8546 234.72 39.8546C234.72 39.8546 225.778 28.2628 230.249 24.5369C234.719 20.811 218.233 23.0879 218.233 23.0879Z\",\n  fill: \"#9F616A\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  opacity: 0.1,\n  d: \"M218.233 23.0879C218.233 23.0879 216.836 40.6826 215.159 40.6826C213.482 40.6826 234.72 39.8546 234.72 39.8546C234.72 39.8546 225.778 28.2628 230.249 24.5369C234.719 20.811 218.233 23.0879 218.233 23.0879Z\",\n  fill: \"black\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M179.159 225.402C159.726 225.402 140.894 218.664 125.873 206.337C110.851 194.009 100.569 176.854 96.7776 157.795C92.9864 138.735 95.921 118.951 105.081 101.813C114.242 84.6751 129.061 71.2435 147.015 63.8069C164.968 56.3703 184.944 55.3889 203.54 61.0299C222.136 66.6708 238.201 78.5851 248.997 94.7427C259.793 110.9 264.653 130.302 262.748 149.641C260.844 168.98 252.292 187.06 238.551 200.801C230.77 208.625 221.514 214.828 211.319 219.051C201.124 223.274 190.193 225.432 179.159 225.402ZM179.159 58.2843C133.324 58.2843 96.0348 95.5735 96.0348 141.408C96.0348 187.243 133.324 224.532 179.159 224.532C224.993 224.532 262.282 187.243 262.282 141.408C262.282 95.5735 224.993 58.2843 179.159 58.2843Z\",\n  fill: \"#353535\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M243.323 61.5833L233.559 64.3772L247.197 63.7551C250.263 63.5885 253.276 64.6022 255.617 66.5881C258.047 68.6916 260.006 72.0282 258.12 76.9605C254.348 86.8251 248.545 96.1094 248.545 96.1094L244.773 103.363C244.773 103.363 236.94 104.523 236.65 102.202C236.359 99.8811 236.65 98.7206 238.1 97.5601C239.551 96.3995 240.421 94.0784 240.421 92.9179C240.421 91.7574 240.131 90.5968 241.002 90.0165C241.872 89.4363 242.162 88.5659 242.162 86.8251C242.162 85.0842 247.195 77.4333 247.195 77.4333C247.195 77.4333 236.65 73.769 232.108 76.853C227.567 79.937 218.371 93.4982 218.371 93.4982C217.768 94.1292 217.262 94.8472 216.872 95.6282C216.406 96.5348 215.761 97.3372 214.975 97.987C214.132 98.7285 214.909 100.771 215.18 101.042C215.47 101.332 218.371 112.937 218.371 112.937C218.371 112.937 221.563 118.45 218.081 118.74C214.599 119.03 211.408 119.32 211.118 118.74C210.795 117.936 210.407 117.159 209.957 116.419C209.087 114.968 209.957 111.777 209.957 111.777C209.957 111.777 201.543 101.042 204.154 94.3686C206.766 87.6955 212.278 72.6084 212.278 72.6084L220.692 69.1268L236.069 63.6142L243.323 61.5833Z\",\n  fill: \"#353535\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M184.715 30.2487L172.82 27.9276C172.82 27.9276 169.919 18.063 166.437 19.2235C162.955 20.384 168.758 30.2487 168.758 30.2487L185.296 37.7922L184.715 30.2487Z\",\n  fill: \"#A0616A\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M256.959 40.1133L262.182 46.7864C262.182 46.7864 269.725 46.4962 267.404 50.5581C265.083 54.62 259.861 52.2989 259.571 51.4285C259.28 50.5581 250.866 43.0146 250.866 43.0146L256.959 40.1133Z\",\n  fill: \"#A0616A\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M229.787 31.3017L222.244 37.1044L217.602 30.1411L181.625 28.1102V40.0058C190.479 37.4493 198.628 36.6573 205.126 40.0058C213.35 50.9567 215.159 62.8485 209.957 75.7687L252.418 60.8955C239.692 56.1566 233.784 49.2866 235.59 40.0058L250.387 45.2282L259.381 38.5551C251.338 33.1429 239.368 29.7485 229.787 31.3017Z\",\n  fill: \"#2F80ED\"\n});\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M150 239.026C232.843 239.026 300 233.96 300 227.711C300 221.462 232.843 216.396 150 216.396C67.1573 216.396 0 221.462 0 227.711C0 233.96 67.1573 239.026 150 239.026Z\",\n  fill: \"#535353\"\n});\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"path\", {\n  opacity: 0.1,\n  d: \"M108.075 234.964C164.078 234.964 209.478 231.587 209.478 227.421C209.478 223.255 164.078 219.877 108.075 219.877C52.0725 219.877 6.6731 223.255 6.6731 227.421C6.6731 231.587 52.0725 234.964 108.075 234.964Z\",\n  fill: \"black\"\n});\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M271.324 212.352C270.357 220.821 275.564 228.37 275.564 228.37C275.564 228.37 282.337 222.188 283.304 213.719C284.27 205.25 279.064 197.701 279.064 197.701C279.064 197.701 272.29 203.883 271.324 212.352Z\",\n  fill: \"#2F2E41\"\n});\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M275.016 211.915C278.5 219.694 275.821 228.465 275.821 228.465C275.821 228.465 267.495 224.622 264.011 216.843C260.527 209.063 263.206 200.292 263.206 200.292C263.206 200.292 271.532 204.135 275.016 211.915Z\",\n  fill: \"#2F80ED\"\n});\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M181.497 227.264C199.452 227.264 214.008 212.708 214.008 194.753C214.008 176.797 199.452 162.242 181.497 162.242C163.541 162.242 148.985 176.797 148.985 194.753C148.985 212.708 163.541 227.264 181.497 227.264Z\",\n  fill: \"#F2F2F2\"\n});\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M181.497 144.631L173.488 164.654L144.527 164.886L135.092 164.962L112.703 165.142L103.272 165.218L80.8823 165.399L71.4516 165.475L49.0621 165.659L39.6314 165.735L24.5182 165.855L21.5949 159.872L17.8026 152.123L15.7082 147.835L14.5068 144.631L21.695 121.865C22.3978 119.641 23.791 117.698 25.6726 116.319C27.5541 114.94 29.8262 114.197 32.1589 114.196H162.94C165.205 114.198 167.414 114.899 169.264 116.206C171.115 117.512 172.516 119.359 173.275 121.493L174.108 123.839L181.497 144.631Z\",\n  fill: \"#2F80ED\"\n});\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M181.497 144.631H14.5068V186.679H181.497V144.631Z\",\n  fill: \"#2F80ED\"\n});\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"path\", {\n  opacity: 0.1,\n  d: \"M181.497 144.631H14.5068V186.679H181.497V144.631Z\",\n  fill: \"black\"\n});\n\nvar _ref18 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M183.96 86.8745H179.034V91.8005H183.96V86.8745Z\",\n  fill: \"#353535\"\n});\n\nvar _ref19 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M197.26 192.29H192.334V197.216H197.26V192.29Z\",\n  fill: \"#353535\"\n});\n\nvar _ref20 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M151.262 90.3692H44.3407V224.922H151.262V90.3692Z\",\n  fill: \"#F2F2F2\"\n});\n\nvar _ref21 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M98.0018 99.9801H66.7662V104.385H98.0018V99.9801Z\",\n  fill: \"#353535\"\n});\n\nvar _ref22 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M144.455 118.291H50.3475V120.293H144.455V118.291Z\",\n  fill: \"#E6E6E6\"\n});\n\nvar _ref23 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M144.455 124.408H50.3475V126.41H144.455V124.408Z\",\n  fill: \"#E6E6E6\"\n});\n\nvar _ref24 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M144.455 130.815H50.3475V132.817H144.455V130.815Z\",\n  fill: \"#E6E6E6\"\n});\n\nvar _ref25 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M144.455 137.222H50.3475V139.225H144.455V137.222Z\",\n  fill: \"#E6E6E6\"\n});\n\nvar _ref26 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M144.455 143.63H50.3475V145.632H144.455V143.63Z\",\n  fill: \"#E6E6E6\"\n});\n\nvar _ref27 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M144.455 150.037H50.3475V152.039H144.455V150.037Z\",\n  fill: \"#E6E6E6\"\n});\n\nvar _ref28 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M54.352 107.989C53.0056 107.989 51.6894 107.59 50.5699 106.842C49.4504 106.094 48.5778 105.031 48.0625 103.787C47.5473 102.543 47.4124 101.174 47.6751 99.8534C47.9378 98.5328 48.5862 97.3198 49.5383 96.3677C50.4903 95.4156 51.7034 94.7673 53.0239 94.5046C54.3445 94.2419 55.7133 94.3767 56.9573 94.892C58.2012 95.4072 59.2644 96.2798 60.0125 97.3993C60.7605 98.5189 61.1598 99.8351 61.1598 101.182C61.1578 102.986 60.4399 104.717 59.1636 105.993C57.8874 107.269 56.157 107.987 54.352 107.989ZM54.352 95.1747C53.164 95.1747 52.0027 95.527 51.0148 96.187C50.027 96.847 49.2571 97.7852 48.8025 98.8828C48.3478 99.9804 48.2289 101.188 48.4606 102.353C48.6924 103.519 49.2645 104.589 50.1046 105.429C50.9447 106.269 52.015 106.841 53.1802 107.073C54.3454 107.305 55.5532 107.186 56.6508 106.731C57.7484 106.276 58.6865 105.507 59.3466 104.519C60.0066 103.531 60.3589 102.37 60.3589 101.181C60.3571 99.5889 59.7236 98.0621 58.5975 96.936C57.4714 95.8099 55.9446 95.1765 54.352 95.1747Z\",\n  fill: \"#EB5757\"\n});\n\nvar _ref29 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M181.497 228.326H14.5068V144.631L36.1315 161.45L160.673 160.649L181.497 144.631V228.326Z\",\n  fill: \"#535353\"\n});\n\nvar _ref30 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M54.3521 208.904H23.1166V213.309H54.3521V208.904Z\",\n  fill: \"#F2F2F2\"\n});\n\nvar _ref31 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M39.5085 200.632C38.8199 200.632 38.1467 200.428 37.5742 200.046C37.0016 199.663 36.5554 199.119 36.2919 198.483C36.0284 197.847 35.9594 197.147 36.0938 196.472C36.2281 195.796 36.5597 195.176 37.0466 194.689C37.5335 194.202 38.1539 193.87 38.8293 193.736C39.5046 193.602 40.2047 193.671 40.8408 193.934C41.477 194.198 42.0208 194.644 42.4033 195.217C42.7859 195.789 42.9901 196.462 42.9901 197.151C42.9891 198.074 42.6219 198.959 41.9692 199.612C41.3165 200.264 40.4315 200.631 39.5085 200.632ZM39.5085 194.249C38.9346 194.249 38.3737 194.42 37.8966 194.738C37.4194 195.057 37.0476 195.51 36.828 196.041C36.6084 196.571 36.5509 197.154 36.6629 197.717C36.7748 198.28 37.0512 198.797 37.4569 199.202C37.8627 199.608 38.3796 199.884 38.9425 199.996C39.5053 200.108 40.0886 200.051 40.6188 199.831C41.1489 199.612 41.6021 199.24 41.9209 198.763C42.2397 198.286 42.4098 197.725 42.4098 197.151C42.409 196.382 42.103 195.644 41.5591 195.1C41.0152 194.556 40.2777 194.25 39.5085 194.249Z\",\n  fill: \"white\"\n});\n\nvar _ref32 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M243.903 101.912C243.903 101.912 245.644 108.585 246.224 108.875C246.804 109.165 253.187 114.678 248.835 115.548C244.483 116.419 241.292 116.129 240.421 115.258C239.551 114.388 239.841 113.517 238.39 113.227C236.94 112.937 234.329 112.067 234.619 110.036C234.909 108.005 236.36 102.492 237.23 101.912C238.1 101.332 243.903 101.912 243.903 101.912Z\",\n  fill: \"#353535\"\n});\n\nvar _ref33 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M218.661 116.709C218.661 116.709 221.273 118.74 219.822 122.512C218.371 126.283 216.34 130.345 216.34 130.345C216.34 130.345 214.019 137.599 210.248 136.438C208.715 135.967 207.949 134.681 207.58 133.321C207.313 132.293 207.269 131.22 207.451 130.174C207.633 129.127 208.036 128.132 208.633 127.254L210.828 123.962L213.149 117.87L218.661 116.709Z\",\n  fill: \"#353535\"\n});\n\nvar _ref34 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M212.293 144.799C217.494 144.799 223.929 143.076 230.2 136.848C245.551 121.602 260.135 120.073 260.281 120.059L260.226 119.481C260.079 119.495 245.288 121.045 229.791 136.436C221.828 144.345 213.608 144.829 208.116 143.843C204.487 143.184 201.032 141.791 197.961 139.75L197.618 140.218C200.754 142.306 204.284 143.733 207.99 144.41C209.41 144.667 210.85 144.797 212.293 144.799Z\",\n  fill: \"#353535\"\n});\n\nvar _ref35 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M252.462 132.231C254.385 132.231 255.944 130.672 255.944 128.75C255.944 126.827 254.385 125.268 252.462 125.268C250.539 125.268 248.98 126.827 248.98 128.75C248.98 130.672 250.539 132.231 252.462 132.231Z\",\n  fill: \"#353535\"\n});\n\nvar _ref36 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M227.801 148.479C229.724 148.479 231.282 146.92 231.282 144.997C231.282 143.074 229.724 141.516 227.801 141.516C225.878 141.516 224.319 143.074 224.319 144.997C224.319 146.92 225.878 148.479 227.801 148.479Z\",\n  fill: \"#353535\"\n});\n\nvar _ref37 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M224.276 29.6262C228.122 29.6262 231.239 26.5092 231.239 22.6641C231.239 18.8191 228.122 15.7021 224.276 15.7021C220.431 15.7021 217.314 18.8191 217.314 22.6641C217.314 26.5092 220.431 29.6262 224.276 29.6262Z\",\n  fill: \"#A0616A\"\n});\n\nvar _ref38 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M230.101 0C229.371 1.04249 228.289 1.78626 227.054 2.09443C224.924 2.66492 227.037 5.86641 227.037 5.86641C227.037 5.86641 226.268 4.70223 227.377 3.46933C228.485 2.23644 230.269 1.39353 230.101 0Z\",\n  fill: \"#2F2E41\"\n});\n\nvar _ref39 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M226.66 9.32642C228.146 9.32642 229.352 8.12117 229.352 6.63442C229.352 5.14766 228.146 3.94241 226.66 3.94241C225.173 3.94241 223.968 5.14766 223.968 6.63442C223.968 8.12117 225.173 9.32642 226.66 9.32642Z\",\n  fill: \"#2F2E41\"\n});\n\nvar _ref40 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M230.096 8.89074C227.902 8.06067 224.248 7.63979 222.368 7.9275L222.626 6.04483C224.433 6.97893 228.07 7.4179 230.354 7.00808L230.096 8.89074Z\",\n  fill: \"#3F3D56\"\n});\n\nvar _ref41 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M225.27 11.0153C225.27 11.0153 222.519 15.5901 216.124 17.3027C209.728 19.0153 216.071 28.6261 216.071 28.6261C216.071 28.6261 213.765 25.1313 217.092 21.4302C220.419 17.729 225.773 15.1986 225.27 11.0153Z\",\n  fill: \"#2F2E41\"\n});\n\nvar _ref42 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M225.488 10.7373C225.488 10.7373 228.13 17.0211 231.031 17.6151C233.932 18.2092 233.712 28.1382 229.175 29.6271C229.175 29.6271 232.483 23.8063 229.656 19.9026C226.828 15.9988 225.042 12.9129 225.488 10.7373Z\",\n  fill: \"#2F2E41\"\n});\n\nvar SvgSkate = function SvgSkate(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 300,\n    height: 240,\n    viewBox: \"0 0 300 240\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18, _ref19, _ref20, _ref21, _ref22, _ref23, _ref24, _ref25, _ref26, _ref27, _ref28, _ref29, _ref30, _ref31, _ref32, _ref33, _ref34, _ref35, _ref36, _ref37, _ref38, _ref39, _ref40, _ref41, _ref42);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSkate, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/skate.0f84cd80.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport { ReactComponent as Illustration } from 'src/assets/skate.svg';\nimport { Link } from 'react-router-dom';\n\ninterface SuccessModalProps {\n  show: boolean;\n  handleDone: (event: React.MouseEvent) => void;\n}\n\nconst SuccessModal: React.FC<SuccessModalProps> = ({ show, handleDone }) => {\n  return (\n    <Modal show={show}>\n      <div className=\"blue-600-bg w-100 py-2\"></div>\n      <Modal.Header>\n        <Modal.Title>Your newsletter was sent succesfully</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <div className=\"d-flex flex-column align-items-center\">\n          <Illustration />\n          <div className=\"d-flex flex-row mt-5\">\n            <Link\n              to=\"/newsletter\"\n              className=\"btn btn-primary\"\n              onClick={handleDone}>\n              Done!\n            </Link>\n          </div>\n        </div>\n      </Modal.Body>\n    </Modal>\n  );\n};\n\nexport default SuccessModal;\n","export const sampleTagColors: TagColor[] = [\n  'blue-200-bg',\n  'lightred-bg',\n  'lightpurple-bg',\n  'lightyellow-bg',\n  'black-200-bg',\n];\n","import React from 'react';\nimport { generateTagColor } from '../../utils/utils';\nimport { sampleTagColors } from '../../data/TagColors';\nimport { X } from 'react-feather';\n\ninterface TagProps {\n  label: string;\n  count?: number;\n  canRemove?: boolean;\n}\n\nconst Tag: React.FC<TagProps> = ({ label, canRemove, count }) => {\n  return (\n    <span className={`p-1 rounded ${generateTagColor(sampleTagColors, label)}`}>\n      {label} {count} {canRemove && <X color=\"#6d6d6d\" size=\"12\" />}\n    </span>\n  );\n};\n\nexport default Tag;\n","import React, { useEffect, useState } from 'react';\nimport Tag from './Tag';\nimport './TagSelector.css';\n\ninterface TagSelector {\n  tags: Tag[];\n  selectedTags: Tag[];\n  addTag: (tag: Tag) => void;\n  removeTag: (tag: Tag) => void;\n  showTotalCount?: boolean;\n  showInputField?: boolean;\n  addNewTag?: (token: string, org_id: number, label: string) => void;\n  token: string;\n  orgId: number | null;\n}\n\nconst TagSelector: React.FC<TagSelector> = ({\n  tags,\n  selectedTags,\n  addTag,\n  removeTag,\n  showTotalCount,\n  showInputField,\n  addNewTag,\n  token,\n  orgId,\n}) => {\n  const [availableTags, setAvailableTags] = useState<Tag[]>(tags);\n  const [inputField, setInputField] = useState<HTMLInputElement | null>();\n  const [query, setQuery] = useState<string>('');\n\n  const handleTagRemoval = (\n    event: React.MouseEvent<HTMLDivElement, MouseEvent>,\n    tag: Tag,\n  ) => {\n    removeTag(tag);\n  };\n\n  const handleTagSelection = (\n    event: React.MouseEvent<HTMLDivElement, MouseEvent>,\n    tag: Tag,\n  ) => {\n    setQuery('');\n    addTag(tag);\n  };\n\n  useEffect(() => {\n    setAvailableTags(\n      tags.filter(\n        (tag) =>\n          !selectedTags.includes(tag) &&\n          tag.label.toLowerCase().includes(query),\n      ),\n    );\n    if (inputField) inputField.focus();\n  }, [selectedTags, tags, inputField, query]);\n\n  const handleTagCreation = (\n    event: React.MouseEvent<HTMLDivElement, MouseEvent>,\n    label: string,\n  ) => {\n    if (addNewTag && orgId) addNewTag(token, orgId, label);\n    setQuery('');\n  };\n\n  const handleSearchChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setQuery(event.target.value.toLowerCase());\n  };\n\n  return (\n    <div className=\"w-100 mw-100\">\n      <div className=\"black-200-bg w-100 py-4 d-flex flex-row align-items-start\">\n        <div className=\"d-flex flex-row w-75 flex-wrap\">\n          {selectedTags.map((tag) => (\n            <div\n              className=\"ml-3 mb-3\"\n              key={tag.label}\n              onClick={(e) => handleTagRemoval(e, tag)}>\n              <Tag label={tag.label} canRemove={true} count={tag.numContacts} />\n            </div>\n          ))}\n          {showInputField && (\n            <input\n              autoFocus\n              ref={(input) => setInputField(input)}\n              className=\"tag-selector-input black-200-bg ml-3 mb-3\"\n              type=\"text\"\n              value={query}\n              onChange={handleSearchChange}\n            />\n          )}\n        </div>\n\n        {showTotalCount && (\n          // TODO: Show correct total number of contacts instead of sum, which double-counts (low-priority)\n          <span className=\"ml-auto mr-3 font-weight-bold black-400 flex-shrink-0\">\n            {selectedTags.reduce(\n              (previousValue: number, currentValue: Tag) =>\n                previousValue + currentValue.numContacts,\n              0,\n            )}{' '}\n            contacts selected\n          </span>\n        )}\n      </div>\n      <div className=\"overflow-auto tag-selector-container d-flex flex-column shadow-sm bg-white py-3\">\n        {availableTags.map((tag) => (\n          <div\n            className=\"tag-row p-2 w-100\"\n            key={tag.label}\n            onClick={(e) => handleTagSelection(e, tag)}>\n            <Tag label={tag.label} count={tag.numContacts} />\n          </div>\n        ))}\n        {addNewTag && query !== '' && (\n          <div\n            className=\"tag-row p-2 w-100\"\n            onClick={(e) => handleTagCreation(e, query)}>\n            Create <Tag label={query} />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default TagSelector;\n","import React from 'react';\nimport ProgressBar from 'react-bootstrap/ProgressBar';\n\ninterface ProgressBarHeaderProps {\n  step: number;\n  stepLabels: string[];\n}\n\nconst ProgressBarHeader: React.FC<ProgressBarHeaderProps> = ({\n  step,\n  stepLabels,\n}) => {\n  return (\n    <div className=\"w-100\">\n      <ProgressBar now={Math.round((step + 1) * (100 / stepLabels.length))} />\n      <div className=\"d-flex flex-row justify-content-around mt-2\">\n        {stepLabels.map((label, index) => (\n          <span\n            key={index}\n            className={\n              step >= index ? 'font-weight-bold primary' : 'black-300'\n            }>\n            {label}\n          </span>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ProgressBarHeader;\n","import React from 'react';\nimport Button from 'react-bootstrap/Button';\n\ninterface FunnelButtonProps {\n  onNext: (event: React.MouseEvent) => void;\n  onBack?: (event: React.MouseEvent) => void;\n  cta: string;\n  enabled: boolean;\n}\n\nconst FunnelButton: React.FC<FunnelButtonProps> = ({\n  onNext,\n  onBack,\n  cta,\n  enabled,\n}) => {\n  return (\n    <div className=\"d-flex flex-row w-100 mt-3\">\n      {onBack && (\n        <Button\n          size=\"lg\"\n          variant=\"outline-primary\"\n          className=\"\"\n          onClick={onBack}>\n          Back\n        </Button>\n      )}\n      {enabled ? (\n        <Button size=\"lg\" className=\"ml-auto\" onClick={onNext}>\n          {cta} &#62;\n        </Button>\n      ) : (\n        <Button size=\"lg\" className=\"ml-auto\" disabled>\n          {cta} &#62;\n        </Button>\n      )}\n    </div>\n  );\n};\n\nexport default FunnelButton;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { RootState } from 'src/redux';\nimport Docdrop from 'src/components/docdrop/Docdrop';\nimport Form from 'react-bootstrap/Form';\nimport { connect, ConnectedProps } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport * as pdfjsLib from 'pdfjs-dist';\nimport { pdfjsWorker } from 'pdfjs-dist/build/pdf.worker.entry';\nimport { logout } from '../../../redux/modules/user';\nimport {\n  uploadFile,\n  updateFileUploadStep,\n  addUploadTag,\n  removeUploadTag,\n  sendNewsletter,\n  addAllUploadTags,\n  removeAllUploadTags,\n  loading,\n  removeFile,\n} from 'src/redux/modules/newsletter';\nimport { loadTags } from 'src/redux/modules/tag';\nimport ConfirmSendModal from './ConfirmSendModal';\nimport SuccessModal from './SuccessModal';\nimport TagSelector from 'src/components/tags/TagSelector';\nimport ProgressBarHeader from 'src/components/progress/ProgressBarHeader';\nimport FunnelButton from 'src/components/buttons/FunnelButton';\nimport { Container, Spinner } from 'react-bootstrap';\nimport { unauthenticated } from 'src/utils/utils';\n\nconst mapStateToProps = (state: RootState) => ({\n  tags: state.tags,\n  user: state.user,\n  newsletters: state.newsletters,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      uploadFile,\n      removeFile,\n      updateFileUploadStep,\n      loadTags,\n      addUploadTag,\n      removeUploadTag,\n      sendNewsletter,\n      addAllUploadTags,\n      removeAllUploadTags,\n      loading,\n      logout,\n    },\n    dispatch,\n  );\n\nconst connector = connect(mapStateToProps, mapDispatchToProps);\ntype PropsFromRedux = ConnectedProps<typeof connector>;\n\nconst UnconnectedNewsletter: React.FC<PropsFromRedux> = ({\n  uploadFile,\n  removeFile,\n  updateFileUploadStep,\n  tags,\n  loadTags,\n  addUploadTag,\n  removeUploadTag,\n  addAllUploadTags,\n  removeAllUploadTags,\n  sendNewsletter,\n  newsletters,\n  user,\n  loading,\n  logout,\n}) => {\n  const [name, setName] = useState<string>('');\n  const [newsletter, setNewsletter] = useState<DraftNewsletter>(\n    {} as DraftNewsletter,\n  );\n  const [pageCount, setPageCount] = useState<number>(0);\n  const [showModal, setShowModal] = useState<boolean>(false);\n  const [showSuccessModal, setShowSuccessModal] = useState<boolean>(false);\n  const [toggle, setToggle] = useState<boolean>(false);\n  const [hasFetchedTags, setHasFetchedTags] = useState<boolean>(false);\n  const handleModalClose = () => setShowModal(false);\n  const handleModalShow = () => setShowModal(true);\n\n  const token = user.user.token;\n  const org = user.user.org;\n\n  const getPageCount = useCallback(async (fileURL: string) => {\n    pdfjsLib.GlobalWorkerOptions.workerSrc = pdfjsWorker;\n    const loadPDF = await pdfjsLib.getDocument(fileURL).promise;\n    setPageCount(loadPDF.numPages);\n  }, []);\n\n  useEffect(() => {\n    if (!hasFetchedTags && org) {\n      loadTags(token, org.id);\n      setHasFetchedTags(true);\n    }\n    if (newsletters.uploadStep === 2 && newsletters.uploadedFile) {\n      setNewsletter({\n        title: name,\n        file: newsletters.uploadedFile,\n        tags: newsletters.uploadSelectedTags,\n      });\n      const obj = URL.createObjectURL(newsletters.uploadedFile);\n      getPageCount(obj);\n      handleModalShow();\n    }\n  }, [\n    removeAllUploadTags,\n    hasFetchedTags,\n    tags,\n    loadTags,\n    name,\n    newsletters,\n    getPageCount,\n  ]);\n\n  const handleNextClick = (event: React.MouseEvent) => {\n    updateFileUploadStep(newsletters.uploadStep + 1);\n  };\n\n  const handleBackClick = (event: React.MouseEvent) => {\n    updateFileUploadStep(newsletters.uploadStep - 1);\n  };\n\n  const handleSelectAllClick = (event: React.MouseEvent) => {\n    toggle ? removeAllUploadTags() : addAllUploadTags(tags.tags);\n    setToggle(!toggle);\n  };\n\n  const handleSubmission = (event: React.MouseEvent) => {\n    sendNewsletter(token, newsletter, pageCount);\n    setShowSuccessModal(true);\n    updateFileUploadStep(newsletters.uploadStep + 1);\n  };\n\n  const handleDone = (event: React.MouseEvent) => {\n    removeFile();\n    removeAllUploadTags();\n    updateFileUploadStep(0);\n  };\n\n  if (unauthenticated([newsletters.error.message, tags.error.message])) {\n    loading();\n    logout();\n  }\n\n  const spinner = (\n    <Container id=\"contacts-spinner\">\n      <Spinner animation=\"border\" role=\"status\" variant=\"primary\">\n        <span className=\"sr-only\">Loading...</span>\n      </Spinner>\n    </Container>\n  );\n\n  if (newsletters.loading) {\n    return spinner;\n  }\n\n  return (\n    <div className=\"upload-file-wrapper\">\n      <div className=\"upload-file-container\">\n        <ProgressBarHeader\n          step={newsletters.uploadStep}\n          stepLabels={[\n            'Upload file',\n            'Select contacts',\n            'Confirm to send',\n            'Success',\n          ]}\n        />\n\n        {newsletters.uploadStep === 0 && (\n          <div>\n            <div className=\"d-flex flex-column align-items-center mt-3\">\n              <span className=\"p2 black-500 mt-3\">Newsletters</span>\n              <span className=\"black-500\">\n                Send newsletters to a specific group of contact\n              </span>\n            </div>\n            <Form className=\"mt-5 d-flex flex-column\">\n              <Form.Group controlId=\"formName\" className=\"mt-3\">\n                <Form.Label>Name your newsletter</Form.Label>\n                <Form.Control\n                  onChange={(e) => setName(e.target.value)}\n                  value={name}\n                  type=\"text\"\n                  placeholder=\"Untitled\"\n                />\n              </Form.Group>\n              <Form.Group controlId=\"formDocdrop\">\n                <Form.Label>Attach file</Form.Label>\n                <Docdrop\n                  uploadFile={uploadFile}\n                  uploadedFile={newsletters.uploadedFile}\n                  acceptedFormat=\"application/pdf/*\"\n                  acceptedFormatLabel=\"PDF\"\n                />\n              </Form.Group>\n              <FunnelButton\n                onNext={handleNextClick}\n                cta=\"Next\"\n                enabled={newsletters.uploadedFile != null && name !== ''}\n              />\n            </Form>\n          </div>\n        )}\n        {newsletters.uploadStep === 1 && (\n          <div className=\"mt-5 w-75 d-flex flex-column\">\n            <span>\n              Search and select tags to classify who you want to send your\n              newsletter to.\n            </span>\n            <div>\n              <TagSelector\n                tags={tags.tags}\n                selectedTags={newsletters.uploadSelectedTags}\n                addTag={addUploadTag}\n                removeTag={removeUploadTag}\n                token={token}\n                orgId={org ? org.id : null}\n              />\n            </div>\n            <div className=\"mt-3\">\n              <Form.Check\n                onClick={handleSelectAllClick}\n                type=\"checkbox\"\n                label=\"Select all contacts\"\n              />\n            </div>\n            <FunnelButton\n              onNext={handleNextClick}\n              onBack={handleBackClick}\n              cta=\"Next\"\n              enabled={newsletters.uploadSelectedTags.length > 0}\n            />\n          </div>\n        )}\n        {newsletters.uploadStep === 2 && (\n          <ConfirmSendModal\n            handleClose={handleModalClose}\n            show={showModal}\n            newsletter={newsletter}\n            handleSubmission={handleSubmission}\n            handleBackClick={handleBackClick}\n          />\n        )}\n        {newsletters.uploadStep === 3 && (\n          <SuccessModal show={showSuccessModal} handleDone={handleDone} />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default connector(UnconnectedNewsletter);\n","import React, { useState, useEffect } from 'react';\nimport { RootState } from 'src/redux';\n\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { connect, ConnectedProps } from 'react-redux';\nimport {\n  loadOrgContacts,\n  addFilter,\n  removeFilter,\n  loading,\n} from 'src/redux/modules/orgcontacts';\nimport { loadTags } from 'src/redux/modules/tag';\nimport { logout } from '../../../redux/modules/user';\nimport TagSelector from 'src/components/tags/TagSelector';\nimport FormControl from 'react-bootstrap/FormControl';\nimport Form from 'react-bootstrap/Form';\nimport Table from 'react-bootstrap/Table';\nimport Tag from 'src/components/tags/Tag';\nimport './index.css';\nimport { Link } from 'react-router-dom';\nimport { Container, Spinner } from 'react-bootstrap';\nimport { unauthenticated } from 'src/utils/utils';\n\nconst mapStateToProps = (state: RootState) => ({\n  user: state.user,\n  tags: state.tags,\n  orgContacts: state.orgContacts,\n  filters: state.orgContacts.selectedFilters,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    { loadOrgContacts, addFilter, removeFilter, loadTags, loading, logout },\n    dispatch,\n  );\n\nconst connector = connect(mapStateToProps, mapDispatchToProps);\ntype PropsFromRedux = ConnectedProps<typeof connector>;\n\nconst UnconnectedContacts: React.FC<PropsFromRedux> = ({\n  loading,\n  loadTags,\n  tags,\n  orgContacts,\n  filters,\n  loadOrgContacts,\n  addFilter,\n  removeFilter,\n  user,\n  logout,\n}) => {\n  const [searchQuery, setSearchQuery] = useState<string>('');\n  const [filteredOrgContact, setFilteredOrgContacts] = useState<OrgContact[]>(\n    [],\n  );\n  const [hasFetchedData, setHasFetchedData] = useState<boolean>(false);\n\n  const token = user.user.token;\n  const org = user.user.org;\n\n  useEffect(() => {\n    if (!hasFetchedData && org) {\n      loadOrgContacts(token, org.id);\n      loadTags(token, org.id);\n      setHasFetchedData(true);\n    }\n\n    let results = orgContacts.contacts.filter((contact) =>\n      `${contact.first_name} ${contact.last_name}`\n        .toLowerCase()\n        .includes(searchQuery.toLowerCase()),\n    );\n\n    if (filters.length > 0) {\n      results = results.filter((contact) => {\n        let passes: boolean = true;\n        filters.forEach((t) => {\n          if (!contact.tags.some((tag) => tag.id === t.id)) {\n            passes = false;\n          }\n        });\n        return passes;\n      });\n    }\n    setFilteredOrgContacts(results);\n  }, [\n    hasFetchedData,\n    filters,\n    orgContacts,\n    tags,\n    loadOrgContacts,\n    loadTags,\n    searchQuery,\n  ]);\n\n  const handleSearchChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchQuery(event.target.value);\n  };\n\n  if (unauthenticated([orgContacts.error.message, tags.error.message])) {\n    loading();\n    logout();\n  }\n\n  const spinner = (\n    <Container id=\"contacts-spinner\">\n      <Spinner animation=\"border\" role=\"status\" variant=\"primary\">\n        <span className=\"sr-only\">Loading...</span>\n      </Spinner>\n    </Container>\n  );\n\n  let page_id = 'content';\n  if (orgContacts.loading || tags.loading) {\n    page_id = 'faded';\n  }\n\n  return (\n    <div className=\"d-flex flex-row\">\n      <section\n        id={page_id}\n        className=\"d-flex flex-column w-25 shadow-sm vh-100 bg-white align-items-center\">\n        <div className=\"d-flex flex-column my-5 mx-3 justify-content-center\">\n          <Form className=\"mr-3 mb-3 \">\n            <FormControl\n              type=\"text\"\n              placeholder=\"Search name\"\n              value={searchQuery}\n              onChange={handleSearchChange}\n            />\n          </Form>\n          <span className=\"black-500 mt-3\">Filter by</span>\n          <TagSelector\n            tags={tags.tags}\n            selectedTags={filters}\n            addTag={addFilter}\n            removeTag={removeFilter}\n            token={token}\n            orgId={org ? org.id : null}\n          />\n        </div>\n      </section>\n\n      <section id={page_id} className=\"d-flex flex-column m-5 w-100\">\n        <div className=\"d-flex flex-row justify-content-between\">\n          <span className=\"p2 mb-3\">Contacts</span>\n          <div>\n            <Link to=\"/upload\" className=\"btn btn-outline-primary\">\n              Add Contacts\n            </Link>\n            {/* TODO: Implement export CSV functionality */}\n            {/* <Button variant=\"outline-secondary\">Export as CSV</Button> */}\n          </div>\n        </div>\n\n        {orgContacts.loading && spinner}\n\n        <div className=\"vh-100 w-100 shadow-sm p-5 bg-white overflow-auto\">\n          <Table responsive hover>\n            <thead>\n              <tr>\n                <th>#</th>\n                <th>First Name</th>\n                <th>Last Name</th>\n                <th>Inmate ID</th>\n                <th>City</th>\n                <th>State</th>\n                <th>Tags</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredOrgContact.map((contact, index) => (\n                <tr key={index}>\n                  <td>{index + 1}</td>\n                  <td>{contact.first_name}</td>\n                  <td>{contact.last_name}</td>\n                  <td>{contact.inmate_number}</td>\n                  <td>{contact.facility_city}</td>\n                  <td>{contact.facility_state}</td>\n                  <td className=\"d-flex flex-column\">\n                    {contact.tags.map((tag) => (\n                      <div className=\"mb-3\" key={tag.label}>\n                        <Tag label={tag.label} />\n                      </div>\n                    ))}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </Table>\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default connector(UnconnectedContacts);\n","import React from 'react';\nimport Form from 'react-bootstrap/Form';\n\ninterface Props {\n  options: string[];\n  objKey: keyof ContactFieldMap;\n  map: FieldMap;\n  sample: string[];\n  onChange: (\n    e: React.ChangeEvent<HTMLSelectElement>,\n    fieldName: keyof ContactFieldMap,\n  ) => void;\n}\n\nconst FieldMappingRow: React.FC<Props> = ({\n  options,\n  objKey,\n  map,\n  sample,\n  onChange,\n}) => {\n  return (\n    <tr>\n      <td>{map.field}</td>\n      <td>\n        <Form.Control\n          as=\"select\"\n          value={map.index}\n          onChange={(e) =>\n            onChange(e as React.ChangeEvent<HTMLSelectElement>, objKey)\n          }\n          custom>\n          <option value={-1}></option>\n          {options.map((option: string, index: number) => (\n            <option value={index} key={index}>\n              {option}\n            </option>\n          ))}\n        </Form.Control>\n      </td>\n      <td>{map.index !== -1 && sample[map.index]}</td>\n    </tr>\n  );\n};\n\nexport default FieldMappingRow;\n","import React from 'react';\nimport Table from 'react-bootstrap/Table';\nimport FieldMappingRow from './FieldMappingRow';\n\ninterface Props {\n  mapping: ContactFieldMap;\n  headers: string[];\n  sample: string[];\n  setMapping: (updatedMapping: ContactFieldMap) => void;\n}\n\nconst FieldMappingTable: React.FC<Props> = ({\n  mapping,\n  headers,\n  sample,\n  setMapping,\n}) => {\n  const onChange = (\n    event: React.ChangeEvent<HTMLSelectElement>,\n    key: keyof ContactFieldMap,\n  ) => {\n    const { value } = event.currentTarget;\n    const index = parseInt(value);\n\n    // if value was already selected, remove it\n    const dupIndex = Object.entries(mapping).findIndex(\n      ([, map]) => map.index === index,\n    );\n    if (dupIndex !== -1) {\n      mapping[\n        Object.keys(mapping)[dupIndex] as keyof ContactFieldMap\n      ].index = -1;\n    }\n    mapping[key].index = index;\n\n    setMapping(mapping);\n  };\n\n  return (\n    <Table responsive>\n      <thead>\n        <tr>\n          <th>Field</th>\n          <th>Mapped to CSV Column</th>\n          <th>Sample</th>\n        </tr>\n      </thead>\n      <tbody>\n        {Object.entries(mapping).map(([key, value]) => (\n          <FieldMappingRow\n            key={key}\n            objKey={key as keyof ContactFieldMap}\n            map={value as FieldMap}\n            options={headers}\n            sample={sample}\n            onChange={onChange}\n          />\n        ))}\n      </tbody>\n    </Table>\n  );\n};\n\nexport default FieldMappingTable;\n","export const initialContactFieldMap: ContactFieldMap = {\n  firstName: { field: 'First Name', index: 0 },\n  lastName: { field: 'Last Name', index: 1 },\n  inmateNumber: { field: 'Inmate ID', index: 2 },\n  facilityName: { field: 'Facility Name', index: 3 },\n  facilityPostal: { field: 'Zip Code', index: 4 },\n  facilityState: { field: 'State', index: 5 },\n  facilityCity: { field: 'City', index: 6 },\n  facilityAddress: { field: 'Address', index: 7 },\n  unit: { field: 'Unit', index: 8 },\n  dorm: { field: 'Dorm', index: 9 },\n  color: { field: 'Color', index: 10 },\n  doubleSided: { field: 'Double-Sided', index: 11 },\n};\n","import React from 'react';\nimport Alert from 'react-bootstrap/Alert';\n\ninterface Props {\n  error: ErrorFeedback;\n}\nconst ErrorAlert: React.FC<Props> = ({ error }) => {\n  return (\n    <Alert variant=\"danger\">\n      <Alert.Heading>{error.title}</Alert.Heading>\n      <span>{error.body}</span>\n    </Alert>\n  );\n};\n\nexport default ErrorAlert;\n","import React, { useState, useEffect } from 'react';\nimport { RootState } from 'src/redux';\nimport Docdrop from 'src/components/docdrop/Docdrop';\nimport { connect, ConnectedProps } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport {\n  uploadCsv,\n  removeCsv,\n  updateCsvUploadStep,\n  updateCsvRows,\n  addUploadTag,\n  removeUploadTag,\n  removeAllUploadTags,\n  createOrgContacts,\n  loading,\n} from 'src/redux/modules/orgcontacts';\nimport FunnelButton from 'src/components/buttons/FunnelButton';\nimport ProgressBarHeader from 'src/components/progress/ProgressBarHeader';\nimport Image from 'react-bootstrap/Image';\nimport Template from 'src/assets/template.png';\nimport { readString } from 'react-papaparse';\nimport FieldMappingTable from 'src/components/pages/UploadContacts/FieldMappingTable';\nimport { initialContactFieldMap } from 'src/data/InitialContactFieldMap';\nimport TagSelector from 'src/components/tags/TagSelector';\nimport { loadTags, addNewTag } from 'src/redux/modules/tag';\nimport ErrorAlert from 'src/components/alerts/ErrorAlert';\nimport { Clock } from 'react-feather';\nimport Tag from 'src/components/tags/Tag';\nimport { Link } from 'react-router-dom';\nimport { logout } from '../../../redux/modules/user';\nimport { unauthenticated } from 'src/utils/utils';\n\nconst mapStateToProps = (state: RootState) => ({\n  uploadedCsv: state.orgContacts.uploadedCsv,\n  uploadStep: state.orgContacts.uploadStep,\n  tags: state.tags,\n  selectedTags: state.orgContacts.uploadSelectedTags,\n  error: state.orgContacts.error,\n  user: state.user,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      uploadCsv,\n      updateCsvUploadStep,\n      updateCsvRows,\n      loadTags,\n      addNewTag,\n      addUploadTag,\n      removeUploadTag,\n      removeAllUploadTags,\n      removeCsv,\n      createOrgContacts,\n      logout,\n    },\n    dispatch,\n  );\nconst connector = connect(mapStateToProps, mapDispatchToProps);\ntype PropsFromRedux = ConnectedProps<typeof connector>;\n\nconst UnconnectedUploadContacts: React.FC<PropsFromRedux> = ({\n  uploadCsv,\n  removeCsv,\n  uploadedCsv,\n  uploadStep,\n  updateCsvUploadStep,\n  updateCsvRows,\n  tags,\n  loadTags,\n  addNewTag,\n  addUploadTag,\n  removeUploadTag,\n  removeAllUploadTags,\n  selectedTags,\n  createOrgContacts,\n  error,\n  user,\n  logout,\n}) => {\n  const [mapping, setMapping] = useState<ContactFieldMap>(\n    initialContactFieldMap,\n  );\n\n  const [feedback, setFeedback] = useState<ErrorFeedback | null>();\n  const [hasFetchedData, setHasFetchedData] = useState<boolean>(false);\n\n  const handleNextClick = (event: React.MouseEvent) => {\n    updateCsvUploadStep(uploadStep + 1);\n  };\n\n  const handleBackClick = (event: React.MouseEvent) => {\n    updateCsvUploadStep(uploadStep - 1);\n  };\n\n  const token = user.user.token;\n  const org = user.user.org;\n\n  const handleSubmission = (event: React.MouseEvent) => {\n    if (org) {\n      createOrgContacts(token, org.id, mapping, uploadedCsv, selectedTags);\n      updateCsvUploadStep(uploadStep + 1);\n    }\n  };\n\n  const handleDone = (event: React.MouseEvent) => {\n    removeCsv();\n    removeAllUploadTags();\n    updateCsvUploadStep(0);\n  };\n\n  useEffect(() => {\n    if (!hasFetchedData && org) {\n      loadTags(token, org.id);\n      setHasFetchedData(true);\n    }\n  }, [hasFetchedData, loadTags]);\n\n  let fileReader: FileReader;\n\n  const handFileRead = (e: any) => {\n    const content = fileReader.result;\n\n    if (typeof content == 'string') {\n      const results = readString(content);\n\n      if (results.data.length < 2) {\n        // ensure there are at least two rows of data\n        removeCsv();\n        setFeedback({\n          title: \"Oops! There's something wrong with the file!\",\n          body:\n            \"It looks like your spreadsheet doesn't have any contacts. Make sure there's at least two rows of data.\",\n        });\n      } else if ((results.data[0] as string[]).length < 8) {\n        // ensure that there are the min number of columns needeed\n        removeCsv();\n        setFeedback({\n          title: \"Oops! There's something wrong with the file!\",\n          body:\n            \"It looks like your spreadsheet doesn't have all the 8 columns that you need to create your contacts. Make sure that you follow the template below.\",\n        });\n      } else {\n        setFeedback(null);\n        updateCsvRows(results.data as string[][]);\n      }\n    }\n  };\n\n  const handleFileChosen = (file: File) => {\n    fileReader = new FileReader();\n    fileReader.onloadend = handFileRead;\n    fileReader.readAsText(file);\n  };\n\n  useEffect(() => {\n    if (uploadedCsv.file) {\n      handleFileChosen(uploadedCsv.file);\n    }\n  });\n\n  if (unauthenticated([error.message, tags.error.message])) {\n    logout();\n  }\n\n  return (\n    <div className=\"upload-file-wrapper\">\n      {feedback && <ErrorAlert error={feedback} />}\n      <div className=\"upload-file-container\">\n        <ProgressBarHeader\n          step={uploadStep}\n          stepLabels={['Upload contacts', 'Map fields', 'Tagging', 'Confirm!']}\n        />\n\n        <div className=\"mt-5 p-5 overflow-auto w-75 d-flex\">\n          {uploadStep === 0 && (\n            <div className=\"upload-file-step-container \">\n              <span>\n                Upload a CSV file in this format. Need Help?{' '}\n                <a\n                  href=\"https://docs.google.com/spreadsheets/d/1PVDV_hBleSmkeNQ36-U0RUldqWLFyeuz-SufGbNMHHg/edit?usp=sharing\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\">\n                  Download our CSV template\n                </a>\n              </span>\n              <Image src={Template} className=\"mb-5\" />\n              <Docdrop\n                uploadFile={uploadCsv}\n                uploadedFile={uploadedCsv.file}\n                acceptedFormat=\"text/csv/*\"\n                acceptedFormatLabel=\"CSV\"\n              />\n              <div className=\"ml-auto\">\n                <FunnelButton\n                  cta=\"Next\"\n                  onNext={handleNextClick}\n                  enabled={uploadedCsv.file !== null}\n                />\n              </div>\n            </div>\n          )}\n\n          {uploadStep === 1 && (\n            <div className=\"upload-file-step-container\">\n              <span>\n                Let's make sure that the columns in your uploaded csv map to the\n                appropriate fields.\n              </span>\n              <div className=\"w-100 shadow-sm p-3 mt-3\">\n                <FieldMappingTable\n                  headers={uploadedCsv.header}\n                  sample={uploadedCsv.data[0]}\n                  mapping={mapping}\n                  setMapping={setMapping}\n                />\n              </div>\n              <FunnelButton\n                cta=\"Next\"\n                onNext={handleNextClick}\n                onBack={handleBackClick}\n                enabled={Object.values(mapping).every(\n                  (fieldMap) => (fieldMap as FieldMap).index >= 0,\n                )}\n              />\n            </div>\n          )}\n\n          {uploadStep === 2 && (\n            <div className=\"upload-file-step-container\">\n              <span>\n                Assign existing tags or create new ones for your contacts.\n              </span>\n              <TagSelector\n                tags={tags.tags}\n                selectedTags={selectedTags}\n                addTag={addUploadTag}\n                removeTag={removeUploadTag}\n                showInputField={true}\n                token={token}\n                orgId={org ? org.id : null}\n                addNewTag={addNewTag}\n              />\n              <FunnelButton\n                cta=\"Create contacts\"\n                onNext={handleSubmission}\n                onBack={handleBackClick}\n                enabled={selectedTags.length > 0 && uploadedCsv !== null}\n              />\n            </div>\n          )}\n          {uploadStep === 3 && (\n            <div className=\"upload-file-step-container\">\n              <span className=\"black-500 p3 mb-3 font-weight-semibold\">\n                We're adding your contacts!\n              </span>\n              <Clock size={60} color=\"#C3DBF5\" />\n              <span className=\"mt-3 text-center\">\n                Depending on the number of contacts you've uploaded, this may\n                take several minutes. You can move on to your next tasks in the\n                mean time.\n              </span>\n              <div className=\"d-flex flex-column mt-5 align-self-start\">\n                <span className=\"black-500 p4\">You're adding</span>\n                <span className=\"font-weight-bold black-500\">\n                  {uploadedCsv.data.length} contacts\n                </span>\n              </div>\n              <div className=\"d-flex flex-column mt-5 align-self-start\">\n                <span className=\"black-500 p4\">Tags</span>\n                <div className=\"d-flex flex-row mt-2\">\n                  {selectedTags.map((tag) => (\n                    <div className=\"mb-3 mr-3\">\n                      <Tag label={tag.label} />\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              <Link to={'/contacts'} onClick={handleDone}>\n                Done\n              </Link>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default connector(UnconnectedUploadContacts);\n","import React, { useState, useEffect } from 'react';\nimport { RootState } from 'src/redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { connect, ConnectedProps } from 'react-redux';\nimport {\n  addFilter,\n  loadNewsletters,\n  removeFilter,\n  loading,\n} from 'src/redux/modules/newsletter';\n\nimport FormControl from 'react-bootstrap/FormControl';\nimport Form from 'react-bootstrap/Form';\nimport Table from 'react-bootstrap/Table';\nimport { Link } from 'react-router-dom';\nimport Tag from 'src/components/tags/Tag';\nimport { formatDate, unauthenticated } from 'src/utils/utils';\nimport TagSelector from '../../tags/TagSelector';\nimport { logout } from '../../../redux/modules/user';\nimport { loadTags } from '../../../redux/modules/tag';\nimport { Container, Spinner } from 'react-bootstrap';\n\nconst mapStateToProps = (state: RootState) => ({\n  newsletters: state.newsletters,\n  tags: state.tags,\n  user: state.user,\n  filters: state.newsletters.selectedFilters,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      loadNewsletters,\n      addFilter,\n      removeFilter,\n      loadTags,\n      loading,\n      logout,\n    },\n    dispatch,\n  );\n\nconst connector = connect(mapStateToProps, mapDispatchToProps);\ntype PropsFromRedux = ConnectedProps<typeof connector>;\n\nconst UnconnectedNewsletterHistory: React.FC<PropsFromRedux> = ({\n  newsletters,\n  loadNewsletters,\n  user,\n  tags,\n  filters,\n  loadTags,\n  addFilter,\n  removeFilter,\n  loading,\n  logout,\n}) => {\n  const [searchQuery, setSearchQuery] = useState<string>('');\n  const [hasFetched, setHasFetched] = useState<boolean>(false);\n  const [filteredNewsletters, setFilteredNewsletters] = useState<\n    NewsletterLog[]\n  >([]);\n\n  const token = user.user.token;\n  const org = user.user.org;\n\n  useEffect(() => {\n    if (!hasFetched && org) {\n      loadNewsletters(token);\n      loadTags(token, org.id);\n      setHasFetched(true);\n    }\n\n    let filteredResults = newsletters.newsletters.filter((newsletter) =>\n      newsletter.title.toLowerCase().includes(searchQuery.toLowerCase()),\n    );\n\n    if (filters.length > 0) {\n      filteredResults = filteredResults.filter((newsletter) => {\n        let passes: boolean = true;\n        filters.forEach((t) => {\n          if (!newsletter.tags.some((tag) => tag.id === t.id)) {\n            passes = false;\n          }\n        });\n        return passes;\n      });\n    }\n    setFilteredNewsletters(filteredResults);\n  }, [\n    hasFetched,\n    newsletters,\n    searchQuery,\n    loadNewsletters,\n    loadTags,\n    filters,\n    tags,\n  ]);\n\n  const handleSearchChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchQuery(event.target.value);\n  };\n\n  if (unauthenticated([newsletters.error.message, tags.error.message])) {\n    loading();\n    logout();\n  }\n\n  const spinner = (\n    <Container id=\"contacts-spinner\">\n      <Spinner animation=\"border\" role=\"status\" variant=\"primary\">\n        <span className=\"sr-only\">Loading...</span>\n      </Spinner>\n    </Container>\n  );\n\n  let page_id = 'content';\n  if (newsletters.loading || tags.loading) {\n    page_id = 'faded';\n  }\n\n  return (\n    <div className=\"d-flex flex-row\">\n      <section\n        id={page_id}\n        className=\"d-flex flex-column w-25 shadow-sm vh-100 bg-white align-items-center\">\n        <div className=\"d-flex flex-column my-5 mx-3 justify-content-center\">\n          <Form className=\"mr-3 mb-3 \">\n            <FormControl\n              type=\"text\"\n              placeholder=\"Search newsletter title\"\n              value={searchQuery}\n              onChange={handleSearchChange}\n            />\n          </Form>\n          <span className=\"black-500 mt-3\">Filter by</span>\n          <TagSelector\n            tags={tags.tags}\n            selectedTags={filters}\n            addTag={addFilter}\n            removeTag={removeFilter}\n            token={token}\n            orgId={org ? org.id : null}\n          />\n        </div>\n      </section>\n\n      <section id={page_id} className=\"d-flex flex-column m-5 w-100\">\n        <div className=\"d-flex flex-row justify-content-between\">\n          <span className=\"p2 mb-3\">Newsletters</span>\n          <div>\n            <Link to=\"/newsletter/create\" className=\"btn btn-outline-primary\">\n              Create newsletter\n            </Link>\n          </div>\n        </div>\n\n        {newsletters.loading && spinner}\n\n        <div className=\"vh-100 w-100 shadow-sm p-5 bg-white overflow-auto\">\n          <Table responsive hover>\n            <thead>\n              <tr>\n                <th>Title</th>\n                <th>Delivered</th>\n                <th>In Transit</th>\n                <th>Returned</th>\n                <th>Estimated Arrival</th>\n                <th>Tags</th>\n                <th>File</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredNewsletters &&\n                filteredNewsletters.map((newsletter) => (\n                  <tr key={newsletter.id}>\n                    <td>{newsletter.title}</td>\n                    <td>{newsletter.delivered}</td>\n                    <td>{newsletter.inTransit}</td>\n                    <td>{newsletter.returned}</td>\n                    <td>\n                      {newsletter.estimatedArrival\n                        ? formatDate(newsletter.estimatedArrival)\n                        : 'There was a problem estimating the arrival date.'}\n                    </td>\n                    <td className=\"d-flex flex-column\">\n                      {newsletter.tags.map((tag, index) => (\n                        <div className=\"mb-3\" key={index}>\n                          <Tag label={tag.label} />\n                        </div>\n                      ))}\n                    </td>\n                    <td>\n                      <a\n                        href={newsletter.fileLink}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\">\n                        Link\n                      </a>\n                    </td>\n                  </tr>\n                ))}\n            </tbody>\n          </Table>\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default connector(UnconnectedNewsletterHistory);\n","import { Route, Redirect, RouteProps } from 'react-router';\nimport { connect } from 'react-redux';\nimport { RootState } from '../redux';\nimport React from 'react';\n\ninterface Props extends RouteProps {\n  authenticated: boolean;\n}\n\nclass PrivateRoute extends Route<Props> {\n  public render() {\n    if (!this.props.authenticated) {\n      const renderComponent = () => <Redirect to=\"/login\" />;\n      return <Route {...this.props} component={renderComponent} />;\n    } else {\n      return <Route {...this.props} />;\n    }\n  }\n}\n\nconst mapStateToProps = (state: RootState) => ({\n  authenticated: state.user.authInfo.isLoggedIn,\n});\n\nexport default connect(mapStateToProps)(PrivateRoute);\n","import React from 'react';\nimport './App.css';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\nimport VolunteerPage from './components/pages/Volunteers';\nimport NavBar from './components/header/Navbar';\nimport Login from './components/pages/Login';\nimport NewsletterCreationPage from './components/pages/Newsletter';\nimport ContactsPage from './components/pages/Contacts';\nimport UploadContactsPage from './components/pages/UploadContacts';\nimport NewsletterHistoryPage from './components/pages/NewsletterHistory';\nimport PrivateRoute from './hoc/PrivateRoute';\n\nfunction App() {\n  return (\n    <Router>\n      <NavBar />\n      <Switch>\n        <Route path=\"/login\" component={Login}></Route>\n        <PrivateRoute\n          exact\n          path=\"/newsletter\"\n          component={NewsletterHistoryPage}\n        />\n        <PrivateRoute\n          exact\n          path=\"/newsletter/create\"\n          component={NewsletterCreationPage}\n        />\n        <PrivateRoute exact path=\"/contacts\" component={ContactsPage} />\n        <PrivateRoute exact path=\"/upload\" component={UploadContactsPage} />\n        <PrivateRoute exact path=\"/\" component={VolunteerPage} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { combineReducers } from 'redux';\nimport { userReducer } from './modules/user';\nimport { volunteersReducer } from './modules/volunteer';\nimport { newsletterReducer } from './modules/newsletter';\nimport { tagsReducer } from './modules/tag';\nimport { orgContactsReducer } from './modules/orgcontacts';\n\nexport const rootReducer = combineReducers({\n  user: userReducer,\n  volunteers: volunteersReducer,\n  newsletters: newsletterReducer,\n  tags: tagsReducer,\n  orgContacts: orgContactsReducer,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport { rootReducer } from './redux';\nimport thunk from 'redux-thunk';\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\nexport default store;\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}